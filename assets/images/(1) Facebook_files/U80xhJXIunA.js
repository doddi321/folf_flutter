if (self.CavalryLogger) { CavalryLogger.start_js(["JXoWQ"]); }

__d("ChatproxyPresence",["Arbiter","AvailableListConstants","AvailableListInitialData","BanzaiODS","ChannelConstants","ChatReliabilityEvents","ChatReliabilityInstrumentation","LastActiveTimes","PresenceStatus","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=!1,this.$3=b("AvailableListInitialData").chatNotif,this.$4=!1}var c=a.prototype;c.subscribe=function(){__p&&__p();var a=this;b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("chatproxy-presence"),this.updatePresenceInfo.bind(this));b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,function(){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").ON_INVALID_HISTORY),a.$2=!0});b("Arbiter").subscribe(b("ChannelConstants").RTI_SESSION,function(c,d){b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").RTI_SESSION),d&&(a.$4=d)});b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("get_debug_presence"),function(c,d){__p&&__p();b("ChatReliabilityInstrumentation").logCHATPROXY_EVENT(b("ChatReliabilityEvents").GET_DEBUG_PRESENCE);c=b("PresenceStatus").getAllDebugInfo();d=b("LastActiveTimes").getDebugData();for(var e in d){var f=c[e];f===void 0&&(f={},c[e]=f);f.l=Math.floor(d[e])}a.$4.issueRequest("/debug_presence",{},c,function(){b("BanzaiODS").bumpEntityKey(2966,"ChatproxyPresence","debug_presence.sucess")})})};c.getRTISession=function(){return this.$4};c.updatePresenceInfo=function(a,c){__p&&__p();this.$2&&(this.$2=!1,b("PresenceStatus").resetPresenceData());c=c.obj;if(!b("gkx")("845715")){a=c.buddyList;b("PresenceStatus").setMultiChatproxy(a)}a=!1;c.chatNotif!==void 0&&(a=this.$3!==c.chatNotif);a&&(this.$3=c.chatNotif);c.gamers&&!b("gkx")("716430")&&b("PresenceStatus").setPlayingCanvasGameFriends(c.gamers);a&&this.$1(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,this.$3);b("debounceAcrossTransitions")(function(){this.$1(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)}.bind(this),0)()};c.getWebChatNotification=function(){return this.$3};return a}();e.exports=a}),null);
__d("AvailableList",["Arbiter","ArbiterMixin","AsyncRequest","AvailableListConstants","BanzaiODS","Bootloader","ChannelConstants","ChatConfig","ChatDispatcher","ChatproxyPresence","ChatReliabilityInstrumentation","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","JSLogger","LastActiveTimes","PresencePrivacy","PresenceStatus","PresenceStatusActionTypes","Run","ServerTime","TypingStates","debounceAcrossTransitions","emptyFunction","gkx","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("presence",1e-4);var g=babelHelpers["extends"]({},b("AvailableListConstants"),b("ArbiterMixin")),h=/\D/;g.subscribe([b("AvailableListConstants").ON_AVAILABILITY_CHANGED,b("AvailableListConstants").ON_UPDATE_ERROR],function(a,c){b("Arbiter").inform(a,c)});b("PresenceStatus").subscribe("change",b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED)},0));var i=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED})},0);function j(a,c,d,e,f){if(a===b("CurrentUser").getID())return;c=b("PresenceStatus").set(a,c,d,e,f);if(c){d=b("debounceAcrossTransitions")(function(){g.inform(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,a),b("ChatDispatcher").dispatch({type:b("PresenceStatusActionTypes").AVAILABILITY_CHANGED,id:a})},0);d()}}function k(a){a=a.payload.availability||{};for(var b in a)j(b&&b.toString(),a[b].a,!0,"mercury_tabs",a[b].c)}function l(a){if(!a||a==="0"||h.test(a)){b("ChatReliabilityInstrumentation").logERROR("bad id for available list: "+a);return}new(b("AsyncRequest"))("/ajax/mercury/tabs_presence.php").setData({target_id:a}).setHandler(k).setErrorHandler(b("emptyFunction")).setAllowCrossPageTransition(!0).send()}function a(a,c){c.chat_config=b("ChatConfig").getDebugInfo(),c.available_list_debug_info={count:b("PresenceStatus").getOnlineIDs().length}}var m=void 0;try{m=new(b("ChatproxyPresence"))(function(a){g.inform(a)}),m.subscribe()}catch(a){b("FBLogger")("chat").catching(a).mustfix("Failed to subscribe to chat proxy presence"),b("ChatReliabilityInstrumentation").logERROR(a.getMessage())}Object.assign(g,{getChatproxyPresenceObject:function(){return m},get:function(a){return b("PresenceStatus").get(a)},updateForID:function(a){if(b("ChatConfig").get("presence_page_green_dot_sub")&&!b("FBIDCheck").isUser_deprecated(a))return;l(a);b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&b("Run").onAfterLoad(function(){b("gkx")("845715")?b("Bootloader").loadModules(["MessengerMQTTPresence"],function(b){b.sendAdditionalBuddyRequest(a)},"AvailableList"):b("Bootloader").loadModules(["ChannelManager","ChannelTransport"],function(b,c){b.startChannelManager(),c.sendAdditionalBuddyRequest(b.getCompleteConfig(),a)},"AvailableList")})},getWebChatNotification:function(){return m&&m.getWebChatNotification()},isReady:function(){return!!m},set:function(a,b,c,d){j(a,b,!0,c,d)}});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,a);b("PresencePrivacy").subscribe(["privacy-changed","privacy-availability-changed","privacy-user-presence-response"],i);b("requireWeak")("ChannelConnection",function(a){return a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],i)});function c(a,c){__p&&__p();if(b("gkx")("845715"))return;a={};var d=[];c=c.obj.overlay;for(var e in c){g.set(e,c[e].a,c[e].s||"channel",c[e].vc);c[e].la&&(a[e]=c[e].la);var f=c[e].c&b("ChannelConstants").CAPABILITY_PLAYING_INSTANT_GAME;f!==0&&d.push(e)}b("gkx")("716430")&&b("PresenceStatus").setPlayingCanvasGameFriends(d);b("LastActiveTimes").update(a)}b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("buddylist_overlay"),c);b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("buddylist_overlay_buffered"),c);b("Bootloader").loadModules(["MercurySyncEventsProxy"],function(a){__p&&__p();b("Arbiter").subscribe([a.getArbiterTypeForFBID(b("CurrentUser").getID(),a.Events.TYP)],function(a,c){__p&&__p();a=c.obj;if(a.st===b("TypingStates").TYPING){c=a.from;if(b("ChatVisibility").isOnline()){b("BanzaiODS").bumpEntityKey(2966,"presence","stale_presence_check_typing");a=b("PresenceStatus").get(c);if(a!=b("AvailableListConstants").ACTIVE){a=b("LastActiveTimes").get(c)*1e3;var d=b("ServerTime").get();if(!a)b("BanzaiODS").bumpEntityKey(2966,"presence","no_detailed_presence_typing");else if(d-a>5*60*1e3){var e="stale_presence_typing";d=d-a;d<10*60*1e3?e+="600":d<60*60*1e3&&(e+="3600");b("BanzaiODS").bumpEntityKey(2966,"presence",e)}}}g.set(c&&c.toString(),b("AvailableListConstants").ACTIVE,"channel-typing")}})},"AvailableList");b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("messaging"),function(a,c){__p&&__p();if(!b("ChatVisibility").isOnline())return;a=c.obj;if(a.message&&a.message.timestamp&&a.message.sender_fbid){c=b("ServerTime").get();var d=a.message.timestamp;if(c-d<2*60*1e3){b("BanzaiODS").bumpEntityKey(2966,"presence","stale_presence_check");c=a.message.sender_fbid;a=b("PresenceStatus").get(c);if(a==b("AvailableListConstants").ACTIVE)return;a=b("LastActiveTimes").get(c)*1e3;if(!a)b("BanzaiODS").bumpEntityKey(2966,"presence","no_detailed_presence");else if(d-a>5*60*1e3){c="stale_presence";d=d-a;d<10*60*1e3?c+="600":d<60*60*1e3&&(c+="3600");b("BanzaiODS").bumpEntityKey(2966,"presence",c)}}}});e.exports=g}),null);
__d("SRXUIBadge.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.isInt=function(a){return parseInt(a,10)===a};d.render=function(){var a=this.props.count,c=this.props.maxcount;c==null&&(c=20);this.isInt(a)||h(0,186);this.isInt(c)||h(0,187);var d="_5ugh _5ugf _51lp"+(a>c?" _51lr":"")+(a===0?" hidden_elem":"");return b("React").createElement("span",{className:b("joinClasses")(this.props.className,d)},a>c?c:a)};return c}(b("React").Component);e.exports=a}),null);
__d("WorkChatAvailabilityStatusLoader",["Promise","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_store:null,_actions:null,_promise:null,getStoreEnforce:function(){b("nullthrows")(this._store,"Status store is not loaded");return this._store},getActionsEnforce:function(){b("nullthrows")(this._actions,"Status actions is not loaded");return this._actions},isLoaded:function(){return this._store!=null&&this._actions!=null},load:function(){var a=this;this._promise||(this._promise=new(b("Promise"))(function(c){b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,d){a._store=d,a._actions=b,c({store:d,actions:b})},"WorkChatAvailabilityStatusLoader")}));return this._promise}};e.exports=a}),null);
__d("MercuryBootloadOnInteraction.react",["React","createCancelableFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={Component:null},d.$2=function(a){a=d.state.interactionType==="click"?"click":a.type;d.setState({interactionType:a},function(){b("promiseDone")(d.props.loader.load(),function(a){d.props.takeOverRender?d.props.takeOverRender(function(){return d.$1(a)}):d.$1(a)})})},d.$3=function(a){d.setState({Component:a})},d.$4=function(a){d.state.interactionType!=="click"&&d.setState({interactionType:void 0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$3)};d.componentWillUnmount=function(){this.$1.cancel()};d.render=function(){__p&&__p();var a={onFocus:this.$2,onMouseOver:this.$2,onClick:this.$2,onBlur:this.$4};if(!this.state.Component)return b("React").cloneElement(this.props.placeholder,a);a=this.state.Component;var c={};switch(this.state.interactionType){case"focus":c.autoFocus=!0;break;case"click":c.clicked=!0;break}return b("React").cloneElement(this.props.component,babelHelpers["extends"]({},c,{LazyLoadedComponent:a}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$6=function(c){var d=a.$5;if(d!=null){var e=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(e!=null&&d[e]!=null&&d[e]!=void 0)return d[e]}return a.$2?c.short_name:c.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var c=a.prototype;c.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};c.setIsNewThread=function(a){this.$1=a;return this};c.setNameRenderer=function(a){this.$6=a;return this};c.setUseShortName=function(a){this.$2=a;return this};c.setNickname=function(a){this.$5=a;return this};c.setUseAndSeparator=function(a){this.$3=a;return this};c.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();function h(a){if(a)return g._("New Message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}e.exports=a}),null);
__d("SRLayout.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_5aj7")},a.children)}e.exports=a}),null);
__d("SRLayoutColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl7")},a.children)}e.exports=a}),null);
__d("SRLayoutFillColumn.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){return b("React").createElement("div",{className:b("joinClasses")(a.className,"_4bl9")},a.children)}e.exports=a}),null);
__d("SRLink.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("a",this.props,this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("SplitImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.srcs,d=this.props.border,e=this.props.className,f=this.props.halfView;if(c.length===0)return null;var g=null;c.length===1?g=this.$1(c[0],a):c.length===2?g=this.$2(c,a,d):g=this.$3(c,a,d,f);return b("React").createElement("div",{className:b("joinClasses")(e,"_55lt"),style:{width:a,height:a}},g)};d.$1=function(a,c){return b("React").createElement(b("Image.react"),{src:a,width:c,height:c,alt:""})};d.$2=function(a,c,d){var e=Math.floor(c/2),f=-Math.floor(e/2);d="_55lu"+(d?" _57xo":"");return b("React").createElement("div",null,b("React").createElement("div",{className:"_55lu",style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[1],width:c,height:c,style:{marginLeft:f},alt:""})))};d.$3=function(a,c,d,e){e=e===!0?Math.floor(c/3*1.5)+1:Math.floor(c/3*2);var f=-Math.floor((c-e)/2),g=Math.floor(c/2),h=c-e,i=-Math.floor((g-h)/2),j="_55lu"+(d?" _57pl":"");d="_55lu"+(d?" _57pm":"");return b("React").createElement("div",null,b("React").createElement("div",{className:j,style:{width:e}},b("React").createElement(b("Image.react"),{src:a[0],width:c,height:c,style:{marginLeft:f},alt:""})),b("React").createElement("div",{className:d,style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[1],width:g,height:g,style:{marginLeft:i},alt:""})),b("React").createElement("div",{className:"_55lu",style:{width:h,height:g}},b("React").createElement(b("Image.react"),{src:a[2],width:g,height:g,style:{marginLeft:i},alt:""})))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatSidebarAdminedPage.react",["cx","Bootloader","React","SplitImage.react","SRLayout.react","SRLayoutColumn.react","SRLayoutFillColumn.react","SRLink.react","SRXUIBadge.react","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=d.props,c=a.slot,e=a.slotOffset,f=a.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(e+c).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d.props.slot).setSidebarSection("admined_pages").log()},"ChatSidebarAdminedPage.react")},d.$2=function(){var a=String(d.props.page.id);b("gkx")("678658")||b("gkx")("678659")?b("Bootloader").loadModules(["ChatSidebarHoverCardV2","MessengerChatSidebarSlotsTypedLogger"],function(b,c){b.show(a,d.$1)},"ChatSidebarAdminedPage.react"):b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],b("emptyFunction"),"ChatSidebarAdminedPage.react");d.props.onMouseEnter&&d.props.onMouseEnter(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=9,d=this.props.page,e=d.imgSrc,f=[];e!=null&&(f=[e]);return b("React").createElement("li",{className:"_12um _42fz","data-id":d.id,ref:function(b){a.$1=b},onMouseOver:this.$2,onClick:this.$3},b("React").createElement("div",{className:"_55ln"},b("React").createElement("div",{className:"_55lp"},b("React").createElement(b("SRLayout.react"),null,b("React").createElement(b("SRLayoutColumn.react"),null,b("React").createElement(b("SRLink.react"),{href:d.uri},b("React").createElement("div",{className:"_55lq"},b("React").createElement(b("SplitImage.react"),{size:d.imgSize,srcs:f})))),b("React").createElement(b("SRLayoutFillColumn.react"),null,b("React").createElement(b("SRLink.react"),{className:"_224p",href:d.uri},b("React").createElement("div",{className:"_55lr"},d.name))),b("React").createElement(b("SRLayoutColumn.react"),{className:"_3p8_"},b("React").createElement("div",{className:"_5bon"},b("React").createElement(b("SRXUIBadge.react"),{className:"_4fsv",count:d.badgingCount,maxcount:c})))))))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatSidebarPageListContainer.react",["cx","ChatSidebarAdminedPage.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adminedPages.length;return b("React").createElement("ul",{className:"_4kqp"},a.adminedPages.map(function(d,e){return b("React").createElement(b("ChatSidebarAdminedPage.react"),{key:d.id,page:d,slot:e,slotOffset:0,totalSlots:c,onMouseEnter:a.onMouseEnter})}))}e.exports=a}),null);
__d("MessengerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",SSO_LOGIN_BUTTON:"sso_login_button",INFO_PANEL_BUTTON:"info_panel_button",STICKER:"sticker",SIDEBAR_ITEM:"sidebar_item",DESKTOP_LOGIN_VIEW:"XMessengerDotComLoginViewPlaceholder",CHAT_INPUT:"chat_input:plaintext"})}),null);
__d("WorkSyncedGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NEW_GROUP_BUTTON_ON_MECURY_JEWEL:"new_group_button_on_mercury_jewel",GROUP_CREATION_ICON_ON_CHAT_SIDEBAR:"group_creation_icon_on_chat_sidebar",GROUP_CREATION_BUTTON_ON_CHAT_SIDEBAR:"group_creation_button_on_chat_sidebar",COMPOSE_BUTTON_ON_WORKCHAT:"compose_button_on_workchat"})}),null);
__d("XWorkSaveGroupPurposeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/group_creation/dialog/save_purpose/",{purpose:{type:"String",required:!0},ref:{type:"String",required:!0},name:{type:"String"},community:{type:"FBID"},coworkers_to_invite:{type:"IntVector",defaultValue:[]},back_disallowed:{type:"Bool",defaultValue:!1}})}),null);