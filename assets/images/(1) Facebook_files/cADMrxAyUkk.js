if (self.CavalryLogger) { CavalryLogger.start_js(["NDZ0k"]); }

__d("relay-runtime/store/RelayOperationTracker",["invariant","Promise"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map()}var c=a.prototype;c.update=function(a,b){__p&&__p();if(b.size===0)return;var c=new Set();for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=this.$1.get(f);g!=null?g.has(a)||(g.add(a),c.add(f)):(this.$1.set(f,new Set([a])),c.add(f))}if(c.size===0)return;g=this.$2.get(a)||new Set();for(var f=c,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;b=f[d++]}else{d=f.next();if(d.done)break;b=d.value}c=b;this.$4(c);g.add(c)}this.$2.set(a,g)};c.complete=function(a){__p&&__p();var b=this.$2.get(a);if(b==null)return;var c=new Set(),d=new Set();for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=this.$1.get(g);if(!h)continue;h["delete"](a);h.size>0?d.add(g):c.add(g)}for(var h=c,g=Array.isArray(h),f=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=h.length)break;e=h[f++]}else{f=h.next();if(f.done)break;e=f.value}b=e;this.$4(b);this.$1["delete"](b)}for(var c=d,e=Array.isArray(c),b=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(b>=c.length)break;f=c[b++]}else{b=c.next();if(b.done)break;f=b.value}g=f;this.$4(g)}this.$2["delete"](a)};c.$4=function(a){var b=this.$3.get(a);b!=null&&b.resolve();this.$3["delete"](a)};c.getPromiseForPendingOperationsAffectingOwner=function(a){__p&&__p();if(!this.$1.has(a))return null;var c=this.$3.get(a);if(c!=null)return c.promise;var d;c=new(b("Promise"))(function(a){d=a});d!=null||g(0,16524);this.$3.set(a,{promise:c,resolve:d});return c};return a}();e.exports=a}),null);
__d("RelayFBTaskScheduler",["invariant","scheduler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$8=function(){__p&&__p();c.$5=!1;var a=c.$1;if(a==null)return;var d=c.$7(a);c.$6["delete"](a);a=c.$2!==a?c.$2:null;c.$1=null;c.$2=null;try{d.fn()}catch(a){c.$4(a)}finally{if(c.$1==null&&d.nextTaskID!=null)c.$1=d.nextTaskID,c.$2=a;else if(c.$2!=null&&a!=null){var e=c.$7(c.$2);e.nextTaskID=d.nextTaskID;c.$2=a}}!c.$5&&c.$6.size!==0&&b("scheduler").unstable_scheduleCallback(b("scheduler").unstable_NormalPriority,c.$8)};this.$1=null;this.$2=null;this.$3=0;this.$4=a;this.$5=!1;this.$6=new Map()}var c=a.prototype;c.cancel=function(a){var b=this.$6.get(a);b!=null&&(this.$6["delete"](a),b.prevTaskID!=null&&this.$6.has(b.prevTaskID)&&(this.$7(b.prevTaskID).nextTaskID=b.nextTaskID),b.nextTaskID!=null&&this.$6.has(b.nextTaskID)&&(this.$7(b.nextTaskID).prevTaskID=b.prevTaskID),this.$1===a&&(this.$1=b.nextTaskID),this.$2===a&&(this.$2=b.prevTaskID))};c.clear=function(){this.$1=null,this.$2=null,this.$6.clear()};c.schedule=function(a){var c=String(this.$3++);this.$6.set(c,{prevTaskID:this.$2,nextTaskID:null,fn:a});this.$2!=null?(this.$7(this.$2).nextTaskID=c,this.$2=c):this.$1==null&&(this.$1=c,this.$2=c);this.$5||(this.$5=!0,b("scheduler").unstable_scheduleCallback(b("scheduler").unstable_NormalPriority,this.$8));return c};c.$7=function(a){var b=this.$6.get(a);b!=null||g(0,15097,a);return b};return a}();e.exports=a}),null);
__d("CometRelayEnvironmentFactory",["ActorURIConfig","BanzaiODS","FBLogger","JSTracing","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBMissingFieldHandlers","RelayFBOperationLoader","RelayFBTaskScheduler","UFI2CommentsConnectionHandler","VideoTimestampedCommentsConnectionHandler","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","gkx","relay-experimental/InternalLogger","relay-runtime","relay-runtime/store/RelayOperationTracker","relayFBGetDataID","resolveImmediate","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").ConnectionHandler,h=b("relay-runtime").Environment,i=b("relay-runtime").Observable,j=b("relay-runtime").RecordSource,k=b("relay-runtime").ROOT_TYPE,l=b("relay-runtime").Store,m=b("relay-runtime").getStorageKey;b("relay-experimental/InternalLogger").setLoggerImplementation(function(a){b("BanzaiODS").bumpEntityKey(2966,"comet_relay",a)});i.onUnhandledError(function(a,c){var d=b("FBLogger")("relay");a instanceof Error?(d.catching(a),c?d.mustfix("An uncaught error was thrown inside `RelayObservable`."):d.warn("An error was caught inside `RelayObservable`.")):c?d.mustfix("An uncaught error was thrown inside `RelayObservable` but it was not an instance of `Error`. Please change your code so that it throws a bonafide `Error` object instead of `%s`.",a):d.warn("An error was caught inside `RelayObservable` but it was not aninstance of `Error`. Please change your code so that it throws a bonafide `Error` object instead of `%s`.",a)});function n(a){switch(a){case"connection":return g;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler");case"ufi2_comments":return b("UFI2CommentsConnectionHandler")}throw b("unrecoverableViolation")("RelayCometEnvironment: No handler defined for `"+a+"`.","comet_ui")}function o(a){__p&&__p();return i.create(function(c){__p&&__p();var d=b("JSTracing").wrap(function(a){a&&a()}),e=b("JSTracing").wrap(function(a){d(),a&&a()});return a.subscribe({complete:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];e(function(){c.complete.apply(c,b)})},error:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];e(function(){c.error.apply(c,b)})},next:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];d(function(){c.next.apply(c,b)})},unsubscribe:function(){e()}})})}function p(a){__p&&__p();var c=new j();c=new l(c,b("resolveImmediate"),b("RelayFBOperationLoader"),b("relayFBGetDataID"));c.holdGC();var d=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({getAdditionalData:function(){var c;return a==null?{}:(c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c)},wrapObservableFn:o}),b("createRelayFBSubscribeFunction")({})),e=null;if(b("gkx")("897012")){var f=new(b("RelayFBTaskScheduler"))(function(a){var c=b("FBLogger")("relay");c.catching(a);c.warn("An error was caught inside `RelayFBTaskScheduler`.")});e={cancel:function(a){return f.cancel(a)},schedule:function(a){return f.schedule(a)}}}var g=b("gkx")("902177")?new(b("relay-runtime/store/RelayOperationTracker"))():null,i=[].concat(b("RelayFBMissingFieldHandlers"),[{handle:function(a,c,d,e){__p&&__p();if(c!=null&&c.__typename===k&&a.name==="user"&&Object.prototype.hasOwnProperty.call(d,"id"))return d.id;if(c!=null&&c.__typename===k&&a.name==="story"&&Object.prototype.hasOwnProperty.call(d,"story_id"))return d.story_id;if(c!=null&&c.__typename==="Story"&&a.name==="comet_sections"&&c[m(a,{renderLocation:"homepage_stream"})]!=null){var f=c[m(a,{renderLocation:"homepage_stream"})];if(f!=null&&typeof f==="object"&&Object.prototype.hasOwnProperty.call(f,"__ref")&&typeof f.__ref==="string")return f.__ref}if(c!=null&&typeof c.id==="string"&&c.__typename==="Feedback"&&a.name.startsWith("__UFI2CommentsProvider_feedback_display_comments_ufi2_comments")){f=e.get(c.id);if(!f)return null;f=b("UFI2CommentsConnectionHandler").getConnection(f,"UFI2CommentsProvider_feedback_display_comments",{feedback_source:1});return!f?null:f.getDataID()}if(c!=null&&typeof c.id==="string"&&c.__typename==="Feedback"&&a.name==="display_comments"){f=e.get(c.id);if(!f)return null;a=f.getLinkedRecord("display_comments",d);if(a)return a.getDataID();a=f.getLinkedRecord("display_comments");if(a)return a.getDataID();Object.prototype.hasOwnProperty.call(d,"is_initial_fetch")&&(a=f.getLinkedRecord("display_comments",babelHelpers["extends"]({},d,{is_initial_fetch:!d.is_initial_fetch})));return a?a.getDataID():null}return null},kind:"linked"}]);i=new h({UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),configName:"CometRelayEnvironment",handlerProvider:n,missingFieldHandlers:i,network:d,operationLoader:b("RelayFBOperationLoader"),operationTracker:g,scheduler:e,store:c});i.actorID=a;return i}var q=new Map();function a(a){var b=q.get(a);b==null&&(b=p(a),q.set(a,b));return b}c=a(b("RelayAPIConfig").actorID);e.exports={"default":c,getForActorID:a}}),null);
__d("CometRelayEnvironment",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CometRelayEnvironmentFactory")["default"]}),null);
__d("HiddenSubtreePassiveContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({getCurrent:function(){return!1},subscribe:function(a){return{remove:function(){}}}});e.exports=a}),null);
__d("useCometRouteTracePolicy",["CometRouterRootContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometRouterRootContext"));return(a=a==null?void 0:(a=a.routeInfo)==null?void 0:(a=a.route)==null?void 0:a.tracePolicy)!=null?a:null}e.exports=a}),null);
__d("ariaGlimmerProps",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a={"aria-busy":!0,"aria-valuemax":100,"aria-valuemin":0,"aria-valuetext":g._("Loading..."),role:"progressbar"};e.exports=a}),null);
__d("BaseIcon.react",["BaseImage.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.asset;a=a.className;return b("React").createElement(b("BaseImage.react"),{className:a,src:c})}e.exports=a}),null);
__d("CometIcon_DEPRECATED.react",["BaseIcon.react","React","coerceImageishSprited","coerceImageishURL","stylex","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.align;c=c===void 0?"baseline":c;var d=a.asset,e=a.color;e=a.name;e=a.size;e=a.variant;return b("React").createElement(b("BaseIcon.react"),{asset:d,className:b("stylex").dedupe(c==="bottom"?{"vertical-align-1":"pzggbiyp"}:{},c==="middle"?{"vertical-align-1":"sf5mxxl7"}:null,c==="text-bottom"?{"vertical-align-1":"fgm26odu"}:null)})}e.exports=a}),null);
__d("CometImage.react",["BaseImage.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("BaseImage.react"),a)}e.exports=a}),null);
__d("useCometSize",["HiddenSubtreePassiveContext","React","debounce","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext,h=b("React").useEffect,i=b("React").useRef,j=b("React").useState,k=!1;try{c=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,c);window.removeEventListener("test",null,c)}catch(a){k=!1}function a(){__p&&__p();var a=j(null),c=a[0],d=a[1],e=g(b("HiddenSubtreePassiveContext")),f=i({a:null,b:null,element:null,onScroll:null}),l=function(a){__p&&__p();var c=m(),e=c[0],g=c[1],h=c[2],i=function(){var b=a.getBoundingClientRect(),c=b.height,e=b.width;d(function(a){return a==null||a.width!==e||a.height!==c?{height:c,width:e}:a})};c=b("debounce")(function(){i(),h()},8);a.appendChild(e);a.appendChild(g);f.current={a:e,b:g,element:a,onScroll:c};h();i();e.addEventListener("scroll",c,k?{passive:!0}:!1);g.addEventListener("scroll",c,k?{passive:!0}:!1)};a=i(function(a){var b=f.current.element;if(a===b||a==null)return;l(a)});h(function(){if(!e.getCurrent())return;var a=e.subscribe(function(b){!b&&f.current.element!=null&&(l(f.current.element),a.remove())});return function(){return a.remove()}},[e]);h(function(){return function(){var a=f.current,b=a.a,c=a.b,d=a.element;a=a.onScroll;a&&a.reset();b&&c&&a&&(b.removeEventListener("scroll",a),c.removeEventListener("scroll",a));b&&c&&d&&(d.removeChild(b),d.removeChild(c));f.current={a:null,b:null,element:null,onScroll:null}}},[]);return[a.current,c]}var l=1e7;function m(){__p&&__p();var a=document.createElement("div");a.style.position="absolute";a.style.pointerEvents="none";a.style.left="0px";a.style.top="0px";a.style.right="0px";a.style.bottom="0px";a.style.overflow="hidden";a.style.maxWidth="100%";a.style.zIndex="-1";a.style.visibility="hidden";var b=document.createElement("div");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.transition="0s";b.style.width=l+"px";b.style.height=l+"px";a.appendChild(b);var c=document.createElement("div");c.style.position="absolute";a.style.pointerEvents="none";c.style.left="0px";c.style.top="0px";c.style.right="0px";c.style.bottom="0px";c.style.overflow="hidden";a.style.maxWidth="100%";c.style.zIndex="-1";c.style.visibility="hidden";b=document.createElement("div");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.width="200%";b.style.height="200%";c.appendChild(b);function d(){a.scrollLeft=l,a.scrollTop=l,c.scrollLeft=l,c.scrollTop=l}return[a,c,d]}e.exports=a}),null);
__d("RunComet",["ExecutionEnvironment","FBLogger","createCancelableFunction","emptyFunction","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1,i=!1,j={remove:b("emptyFunction")};function k(a){a="Run."+a+" called unexpectedly. This is not supported in Comet!";b("FBLogger")("comet_infra").blameToPreviousFrame().blameToPreviousFrame().mustfix(a)}function l(a,c){g.unload==null&&(g.unload=[],g.afterunload=[],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("unload",function(){o("unload"),o("afterunload")})),g[a]==null?(b("recoverableViolation")("EVENT_LISTENERS."+a+" wasn't initialized but should have been!","comet_infra"),g[a]=[c]):g[a].push(c)}function m(a){a||b("recoverableViolation")("Undefined event listener handler is not allowed","comet_infra");return b("createCancelableFunction")((a=a)!=null?a:b("emptyFunction"))}function n(a){return{remove:function(){a.cancel()}}}function o(a){var c=g[a]||[];for(var d=0;d<c.length;d++){var e=c[d];try{e()}catch(c){b("FBLogger")("comet_infra").catching(c).mustfix("Hit an error while executing '"+a+"' event listeners.")}}g[a]=[]}function p(a){if(h){a();return n(m(b("emptyFunction")))}a=m(a);g.domcontentloaded==null?(g.domcontentloaded=[a],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("DOMContentLoaded",function(){o("domcontentloaded")},!0)):g.domcontentloaded.push(a);return n(a)}function a(a){a=m(a);l("afterunload",a);return n(a)}function c(a){a=m(a);g.load==null?(g.load=[a],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("load",function(){o("domcontentloaded"),o("load")})):g.load.push(a);i&&b("setTimeout")(function(){o("domcontentloaded"),o("load")},0);return n(a)}function d(a){a=m(a);l("unload",a);return n(a)}function f(a,c){__p&&__p();c!==!1&&b("recoverableViolation")("Run.onBeforeUnload was called with include_quickling_events as true or undefined, but this is not valid in Comet.","comet_infra");c=m(a);g.beforeunload==null&&(g.beforeunload=[],b("ExecutionEnvironment").canUseEventListeners&&window.addEventListener("beforeunload",function(a){__p&&__p();var c=g.beforeunload||[];for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var h=void 0;try{h=f()}catch(a){b("FBLogger")("comet_infra").catching(a).mustfix("Hit an error while executing onBeforeUnload event listeners.")}if(h!==void 0){a.preventDefault();a.returnValue=h;return h}}}));g.beforeunload.push(c);return n(c)}function q(a){k("onLeave");return j}function r(a,b){k("onCleanupOrLeave");return j}function s(a){k("removeHook")}function t(){p(function(){h=!0});var a=window.onload;window.onload=function(){a&&a(),i=!0}}b("ExecutionEnvironment").canUseDOM&&t();t={onAfterLoad:c,onAfterUnload:a,onBeforeUnload:f,onCleanupOrLeave:r,onLeave:q,onLoad:p,onUnload:d,__domContentCallback:null,__onloadCallback:null,__removeHook:s};e.exports=t}),null);
__d("CometThrottle",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();c===void 0&&(c={});var d=window,e=d.clearTimeout,f=d.setTimeout,g,h,i,j=null,k=0,l=function(){k=c.leading===!1?0:new Date(),j=null,i=a.apply(g,h)};return function(){var d=new Date();!k&&c.leading===!1&&(k=d);var m=b-(d-k);g=this;h=arguments;m<=0?(e(j),j=null,k=d,i=a.apply(g,h)):!j&&c.trailing!==!1&&(j=f(l,m));return i}}e.exports=a}),null);
__d("requestManifest",["Deferred","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new(b("Deferred"))();a=new(b("URI"))(a);new(b("XHRRequest"))(a).setMethod("GET").setResponseType("text").setTransportBuilder(b("getCrossOriginTransport")).setErrorHandler(function(a){c.reject(a)}).setResponseHandler(Object.assign(function(a){c.resolve(a)},{includeHeaders:!0})).send();return c.getPromise()}e.exports=a}),null);
__d("VideoPlayerAutoplayContexts",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext;c=a(null);d=a(null);e.exports={AutoplayApiContext:c,SelectedAutoplayVideoContext:d}}),null);
__d("VideoAutoplayManagerX.react",["React","VideoPlayerAutoplayContexts","CometThrottle","CometUseWindowSize","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useEffect,i=b("React").useMemo,j=b("React").useRef,k=b("React").useState,l=b("VideoPlayerAutoplayContexts").AutoplayApiContext,m=b("VideoPlayerAutoplayContexts").SelectedAutoplayVideoContext,n=50,o=200;function a(a){__p&&__p();var c=k(null),d=c[0],e=c[1],f=j(function(){return void 0}),p=j(d),q=j(new Map()),r=j(0),s=j(null),t=b("CometUseWindowSize")();h(function(){return function(){b("clearTimeout")(s.current)}},[]);var u=g(function(){__p&&__p();var c=p.current,d=q.current.keys(),g=null,h=d.next(),i=[];if(h.value!=null){var j=t.innerHeight/2,k=Infinity;while(h.value){var l=q.current.get(h.value);if(l){var m=l.positionToViewport,n=m.y;m=m.height;n=n+m/2;m=Math.abs(n-j);m<k&&(k=m,g=h.value);i.push(l)}h.done||(h=d.next())}}b("clearTimeout")(s.current);s.current=null;a.selectCustomAutoplayVideoSymbol&&(g=a.selectCustomAutoplayVideoSymbol(i,g,c));if(g!==c){n=new Date().valueOf();m=Math.abs(n-r.current);if(g!==null&&Math.abs(n-r.current)<=o){l=o-m;s.current=b("setTimeout")(function(){return f.current()},l);return}else g!==null&&(r.current=n);p.current=g;e(g)}},[r,a.selectCustomAutoplayVideoSymbol,q,p,e,s,f,t]),v=i(function(){return b("CometThrottle")(function(){return u()},n)},[u]);f.current=v;var w=g(function(a,b,c){q.current.set(a,{currentAutoplayRule:b,positionToViewport:c,symbol:a}),v()},[q,v]),x=g(function(a){q.current.has(a)&&(q.current["delete"](a),v())},[q,v]);c=i(function(){return{register:w,unregister:x}},[w,x]);return b("React").createElement(l.Provider,{value:c},b("React").createElement(m.Provider,{value:d!=null?d:null},a.children))}e.exports=a}),null);
__d("VideoPlayerImplementationHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return isNaN(a)?0:a}function b(a){__p&&__p();if(!a.getTimeRange||!a.getTimeRange())return null;var b=a.getTimeRange(),c=b.startTime;b=b.endTime;var d=b-c,e=null,f=null,g=null,h=null;if(a.getByteRange){a=a.getByteRange();a&&(f=a.startByte,g=a.endByte,h=g-f)}return{byteSize:h,debugInfo:e,endByte:g,endTime:b,segmentLength:d,startByte:f,startTime:c}}e.exports={getSegmentData:b,normalizeNumber:a}}),null);
__d("VideoPlayerOzImplementation.react",["React","oz-player/utils/OzError","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","oz-player","requestManifest","stylex","unrecoverableViolation","VideoPlayerImplementationHelper","oz-player/strategies/OzBufferingDetector","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useState,i=b("React").useEffect,j=b("React").useRef,k=b("VideoPlayerImplementationHelper").normalizeNumber,l=b("VideoPlaybackQuality").getDroppedFrames,m=b("VideoPlaybackQuality").getTotalFrames,n=!0,o="dash";function p(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();return{errorCode:c.code,errorDescription:a.getDescription(),errorName:a.getType(),stack:a.stack,url:c.url}}else return{errorCode:null,errorDescription:a.name+" "+a.message,errorName:"OZ_JAVASCRIPT_NATIVE",stack:a.stack,url:null}}function q(a){return k(a.duration)}function a(a){__p&&__p();var c=a.updateLoopStateOnImplementationEnded,d=j(null),e=g(function(a){fa(k(a.currentTime))},[]),f=g(function(a){if(a!=null){if(d.current!==a&&d.current!=null)throw b("unrecoverableViolation")("video node should not be recreated","comet_video");N(q(a));d.current=a}},[]),r=g(function(a){e(a.target),c(),H("ended")},[e,c]),s=g(function(a){e(a.target);a=a.target;var b=a.ended?"ended":"paused";H(function(a){return a!=="ended"?b:a})},[e]),t=g(function(a){e(a.target),H(function(a){return a==="paused"||a==="ended"?"stalling":a})},[e]),u=g(function(a){e(a.target),H("playing")},[e]),v=g(function(a){J(!0)},[]),w=g(function(a){a=a.target;e(a);J(!1)},[e]),x=g(function(a){e(a.target),H("stalling")},[e]),y=g(function(a){a=a.target;e(a);M(a.volume)},[e]),z=g(function(a){e(a.target)},[e]),A=g(function(a){var b=a.target;b=b.buffered;e(a.target);b.length&&ha(b.end(b.length-1))},[e]),B=g(function(a){e(a.target);a=a.target;N(k(a.duration))},[e]),C=g(function(){var a=d.current;if(a==null)throw b("unrecoverableViolation")("ref must have been created before the controller is consumed. Please make sure that video is interacted only after the it is mounted","comet_video_player");return a},[d]),D=g(function(c){e(c.target);c=c.target;var a=c.error;if(a==null)return;var d=a.message;d==null&&(d=b("getErrorMessageFromMediaErrorCode")(a.code));d={errorDescription:((d=d)!=null?d:"")+("; readystate: "+c.readyState),errorName:b("getErrorNameFromMediaErrorCode")(a.code)};O(d)},[e]),E=g(function(a){try{var b=C();e(b)}catch(a){}P(a.getCurrentQuality())},[C,e]),F=h("paused"),G=F[0],H=F[1];F=h(!1);var I=F[0],J=F[1];F=h(n);var K=F[0],L=F[1];F=h(0);var aa=F[0],M=F[1];F=h(0);var ba=F[0],ca=F[1];F=h(0);var da=F[0],N=F[1];F=h(0);var ea=F[0],fa=F[1];F=h(0);var ga=F[0],ha=F[1];F=h(null);var ia=F[0],O=F[1];F=h("");var ja=F[0],P=F[1];F=h(function(){__p&&__p();return{pause:function(){C().pause(),e(C()),H("paused")},play:function(){C().play(),e(C()),H(function(a){return a==="paused"||a==="ended"?"stalling":a})},requestSetFullscreened:function(a){},seek:function(a){C().currentTime=a,J(!0),ca(a)},selectVideoQuality:function(a){var b=W.current;if(b==null)return;ma(a);a==="auto"?b.enableVideoQualityAdaptation():b.switchToVideoQuality(a)},setScrubbing:function(a){a?C().playbackRate=0:C().playbackRate=1},setMuted:function(a){e(C()),C().muted=a,L(a)},setVolume:function(a){e(C()),C().volume=a,M(a)}}});F=F[0];var Q=a.manifest,R=a.manifestUrl,S=a.experimentationConfig,T=j(S);i(function(){T.current=S},[S]);var U=h([]),ka=U[0],la=U[1];U=h(null);var V=U[0],ma=U[1],W=j(null),X=j(null),Y=j(null),Z=g(function(a){__p&&__p();var c=a.resolvedManifest,d=a.errorHandler,e=a.mpdUrl,f=a.ozExperimentationConfig,g=a.representationChangeCallback,h=f;a=C();try{f=function(){h.getBool("throttle_playback_rate_on_stall",!1)&&H("inPlayStalling")};var i=function(){h.getBool("throttle_playback_rate_on_stall",!1)&&H("playing")},j=new(b("oz-player"))({config:h,dimensions:{height:500,width:400},mpdUrl:e,rawMpdXml:c,videoNodeOrQuickStarter:a});j.onError(d);j.setupPlayer();j.addListener("switchVideoRepresentation",function(){g(j)});j.addListener("debug/dashPlayerEvent",function(a){a=a.detail;Y.current!=null&&Y.current(a)});W.current=j;var k=new(b("oz-player/strategies/OzBufferingDetector"))(a,h,function(){return q(C())});k.addListener("enter_buffering",f);k.addListener("leave_buffering",i);X.current=k;return{bufferingDetector:k,destroy:function(){j.destroy(),k.destroy(),X.current=null,W.current=null},player:j}}catch(a){d(a);return null}},[C]);i(function(){__p&&__p();var a,c=!0,d=T.current;if(d==null)throw b("unrecoverableViolation")("ref must have been created before the controller is consumed.","comet_video_player");var e=function(){c=!1,a!=null&&(a.destroy(),a=null,W.current=null)},f=function(a){W.current=a,la(a.getVideoQualities()),P(a.getCurrentQuality())},g=function(a){if(!c)return;O(p(a));e()};Q!==null?(a=Z({errorHandler:g,mpdUrl:R,ozExperimentationConfig:d,representationChangeCallback:E,resolvedManifest:Q}),a&&f(a.player)):R!==null&&b("requestManifest")(R).then(function(b){if(!c)return;a=Z({errorHandler:g,mpdUrl:R,ozExperimentationConfig:d,representationChangeCallback:E,resolvedManifest:b});a&&f(a.player)})["catch"](g);return e},[C,Q,R,E,Z]);U={getBufferingDetector:function(){return X.current},getDrmProtectionStatus:function(){return W.current!=null?W.current.isDrm():!1},getDroppedFrameCount:function(){return l(C())},getManifest:function(){return Q},getManifestUrl:function(){return R},getOzPlayer:function(){return W.current},getPlayheadPosition:function(){return k(C().currentTime)},getStreamType:function(){return o},getTotalFrameCount:function(){return m(C())},getVideoElement:function(){return C()},setDashPlayerDebugHandler:function(a){Y.current=a}};var $=G==="ended",na=G==="paused"||$,oa=G==="playing",pa=G==="stalling";G=G==="inPlayStalling";U={VideoStateDebugApiTools:U,availableVideoQualities:ka,bufferEnd:ga,currentTime:ea,currentVideoQuality:"sd",duration:da,ended:$,error:ia,inPlayStalling:G,isAbrEnabled:!0,muted:K,paused:na,playerImplementationName:"oz",playing:oa,seekTarget:ba,seeking:I,selectedVideoQuality:V==null?"auto":V,stalling:pa,targetVideoQuality:ja,volume:aa};return b("React").createElement(b("React").Fragment,null,b("React").createElement("video",{className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:n,onDurationChange:B,onEnded:r,onError:D,onPause:s,onPlay:t,onPlaying:u,onProgress:A,onSeeked:w,onSeeking:v,onTimeUpdate:z,onVolumeChange:y,onWaiting:x,ref:f}),a.renderWithVideoImplementationStates({controller:F,videoState:U}))}function c(a){var b=a.canUseOz,c=a.dashManifest,d=a.dashUrl;a=a.experimentationConfig;if(b!==!0)return null;b=c==null||c===""?null:c;c=d==null||d===""?null:d;if(b==null&&c==null)return null;return a==null?null:{experimentationConfig:a,manifest:b,manifestUrl:c}}a.makeOzImplementationData=c;e.exports=a}),null);
__d("GlobalVideoPortsContexts",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").createContext,h=b("React").useContext,i=b("React").useMemo,j=g(null),k=g(null),l=g(null),m=g({currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null});function a(a){var c=a.children,d=a.currentPlaceID,e=a.currentVideoID,f=a.portalingEnabled,g=a.previousPlaceMetaData,h=a.thisPlaceID;a=i(function(){return{currentPlaceID:d,currentVideoID:e,portalingEnabled:f,previousPlaceMetaData:g,thisPlaceID:h}},[d,e,f,g,h]);return b("React").createElement(m.Provider,{value:a},c)}function c(){return h(j)}function d(){return h(k)}function f(){return h(l)}function n(){return h(m)}e.exports={GlobalVideoPortsLoaderContextProvider:j.Provider,GlobalVideoPortsManagerContextProvider:k.Provider,GlobalVideoPortsStateContextProvider:l.Provider,VideoPlayerPortalingPlaceInfoProvider:a,useGlobalVideoPortsLoader:c,useGlobalVideoPortsManager:d,useGlobalVideoPortsState:f,useVideoPlayerPortalingPlaceInfo:n}}),null);
__d("useLayoutEffect_SSR_WORKAROUND_FIXME",["ExecutionEnvironment","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").useEffect;c=b("React").useLayoutEffect;d=b("ExecutionEnvironment").canUseDOM?c:a;e.exports=d}),null);
__d("InsightsNumUtils",["NumberFormatConfig","PECurrencyConfig","intlNumUtils","intlSummarizeNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("NumberFormatConfig").decimalSeparator,h=new RegExp("(\\"+g+")?0+$"),i={prettyCurrency:function(a,c,d){d===void 0&&(d=2);c=c.toFixed(d).split(".");d=b("NumberFormatConfig").decimalSeparator;d=i.prettyInt(parseInt(c[0],10))+d+c[1];return i._formatCurrency(a,d)},prettyShortCurrency:function(a,b){return i._formatCurrency(a,i.prettyShortInt(b))},prettyShortCurrencyRounded:function(a,b){return i._formatCurrency(a,i.prettyShortIntRounded(b))},_formatCurrency:function(a,c){var d;a=b("PECurrencyConfig").currency_map_for_render[a];d=(d=a==null?void 0:a.format)!=null?d:"{symbol}{amount}";a=(a=a==null?void 0:a.symbol)!=null?a:"";return d.replace("{symbol}",a).replace("{amount}",c)},prettyCurrencyEx:function(a,b){if(b>-1e3&&b<1e3)return i.prettyCurrency(a,b);else return i.prettyShortCurrency(a,b)},prettyFloat:function(a){return b("intlNumUtils").formatNumberWithThousandDelimiters(a)},prettyShortFloat:function(a,b){b||(b=0);a=Number(Math.round(Number(a+"e"+b))+"e-"+b);return i.prettyFloat(a)},_getDecimals:function(a){a=Math.abs(a);if(a<9.995)return 2;else if(a<99.95)return 1;else return 0},prettyShortInt:function(a){__p&&__p();if(Math.abs(a)>=999.5*1e6){Math.abs(a)<=1e9&&(a=Math.sign(a)*1e9);return b("intlSummarizeNumber")(a,i._getDecimals(a/1e9))}if(Math.abs(a)>=999.5*1e3){Math.abs(a)<=1e6&&(a=Math.sign(a)*1e6);return b("intlSummarizeNumber")(a,i._getDecimals(a/1e6))}if(Math.abs(a)>=999.5){Math.abs(a)<=1e3&&(a=Math.sign(a)*1e3);return b("intlSummarizeNumber")(a,i._getDecimals(a/1e3))}return i.prettyInt(a)},prettyShortIntRounded:function(a){return b("intlSummarizeNumber")(a)},prettyInt:function(a){return b("intlNumUtils").formatNumberWithThousandDelimiters(Math.round(a))},prettyPercent:function(a,c){var d=c==null?void 0:c.precision;a=a*100;d==null&&(a>=99.95?d=0:a>=9.995?d=1:d=2);a=d===0?i.prettyShortInt(a):b("intlSummarizeNumber")(a,d);d=(c==null?void 0:c.hidePercentSign)?"":"%";return((c==null?void 0:c.trimZeroes)?i._trimZeroDecimals(a):a)+d},_trimZeroDecimals:function(a){return a.indexOf(g)!==-1?a.replace(h,""):a},prettyPercentInt:function(a){return i.prettyPercent(a,{precision:0})},prettyPercentNoTrailingZeroes:function(a){return i.prettyPercent(a,{trimZeroes:!0})},prettyPercentQuotient:function(a){var b=a.numerator,c=a.denominator;a=a.precision;var d=1;b!=null&&c!=null&&(d=c===0?0:Math.min(1,b/c));return i.prettyPercent(d,{precision:a})}};e.exports=i}),null);
__d("GraphLiveVideoNodeParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROADCAST_START_TIME:"broadcast_start_time",BLOCKED_USERS:"blocked_users",CREATION_TIME:"creation_time",DESCRIPTION:"description",EMBED_HTML:"embed_html",ERRORS:"errors",FROM:"from",GAME_SHOWS:"game_shows",GUEST_SESSIONS:"guest_sessions",ID:"id",LIVE_VIEWS:"live_views",LIVE_ENCODERS:"live_encoders",POLLS:"polls",PERMALINK_URL:"permalink_url",PREVIEW_URL:"preview_url",SECONDS_LEFT:"seconds_left",SOURCE:"source",STATUS:"status",STREAM_URL:"stream_url",SECURE_STREAM_URL:"secure_stream_url",DASH_INGEST_URL:"dash_ingest_url",TEXT_QUESTIONS:"text_questions",THUMBNAILS:"thumbnails",PREFERRED_THUMBNAIL:"preferred_thumbnail",TITLE:"title",TOTAL_VIEWS:"total_views",VIDEO:"video",COPYRIGHT:"copyright",IS_REFERENCE_ONLY:"is_reference_only",CURRENT_BROADCASTER_IDS:"current_broadcaster_ids",STREAM_TYPE:"stream_type",STREAMING_REACTIONS:"streaming_reactions",IS_MANUAL_MODE:"is_manual_mode",SCHEDULE_EXPIRATION_TIME:"schedule_expiration_time",DASH_PREVIEW_URL:"dash_preview_url",AD_BREAK_FAILURE_REASON:"ad_break_failure_reason",AD_BREAK_CONFIG:"ad_break_config",INGEST_STREAMS:"ingest_streams",STREAM_HEALTH:"stream_health",CROSSPOSTED_BROADCASTS:"crossposted_broadcasts",TARGETING:"targeting",CROSSPOST_SHARED_PAGES:"crosspost_shared_pages"})}),null);