if (self.CavalryLogger) { CavalryLogger.start_js(["w\/PJN"]); }

__d("ChatTypeaheadConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({USER_TYPE:"user",THREAD_TYPE:"thread",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",PAGE_TYPE:"page",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",HEADER_TYPE:"header",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game"});e.exports=a}),null);
__d("FBChecklistItem.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){Array.isArray(this.props.children)&&(this.props.children.length===2||this.props.children.length===3)||h(0,1395);var a,c,d;this.props.children.length===3?(a=this.props.children[0],c=this.props.children[1],d=this.props.children[2]):(a=null,c=this.props.children[0],d=this.props.children[1]);var e=this.props.context==="block"?"div":"span",f=null;a&&(f=b("React").createElement(e,{className:"_pur _pus"},a));var g=this.props.paddingLeft,i=this.props.paddingRight;g="_put"+(g==="none"?" _puu":"")+(g==="small"?" _puv":"")+(i==="none"?" _puw":"")+(i==="small"?" _pux":"");return b("React").createElement(e,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,g)}),f,b("React").createElement(e,{className:"_puy"+(a?"":" _pus")},c),b("React").createElement(e,{className:"_puz"},d))};return c}(b("React").Component);c.propTypes={context:a.oneOf(["block","inline"]),paddingLeft:a.oneOf(["none","small","normal"]),paddingRight:a.oneOf(["none","small","normal"])};c.defaultProps={context:"block",paddingLeft:"normal",paddingRight:"normal"};e.exports=c}),null);
__d("requiredIfPropIsTruthy",["sprintf"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){return function(d,e,f){if(!d[a])return null;if(d[e]===void 0)return new Error(b("sprintf")("Must supply %s to %s if property %s is truthy.",e,f,a));for(var g=arguments.length,h=new Array(g>3?g-3:0),i=3;i<g;i++)h[i-3]=arguments[i];return c.apply(void 0,[d,e,f].concat(h))}}e.exports=a}),null);
__d("FBChecklistProps",["React","requiredIfPropIsTruthy"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=a.shape({checked:a.bool,focused:a.bool,iconExplanation:a.string,iconSrc:a.object,id:a.oneOfType([a.string,a.number]).isRequired,image:a.oneOfType([a.string,a.object]),name:a.string,subtitle:a.string,title:a.oneOfType([a.string,a.object]).isRequired,disabled:a.bool});d={baseName:a.string.isRequired,fetchOnScroll:a.bool,imageSize:a.number,maxHeight:a.number,multiSelect:a.bool,onBlur:a.func,onChange:a.func,onExhaust:a.func,onFetch:a.func,onFocus:a.func,onMouseEnter:a.func,onMouseLeave:a.func,options:a.arrayOf(c).isRequired,overflow:a.oneOf(["scroll","show"]),refFunction:a.func,pagerEndpoint:b("requiredIfPropIsTruthy")("showPager",a.string),pagerPlaceholder:b("requiredIfPropIsTruthy")("showPager",a.string),requireSelect:a.bool,scrollOnFetch:a.bool,showPager:a.bool,checkboxIconType:a.oneOf(["round","square"])};e.exports=d}),null);
__d("FBChecklistItemAux.react",["cx","FBChecklistProps","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_25_h"+(this.props.iconType==="square"?" _6z36":"")+(this.props.disabled?"":" _6-bi"),c=this.props;return b("React").createElement("span",{className:"_25_g"},b("React").createElement("span",{className:a}),b("React").createElement("input",{"data-testid":c.inputTestID,disabled:c.disabled,checked:c.checked,className:"_25_i",id:c.inputID,name:c.inputName,onBlur:c.onBlur,onChange:c.onChange,onFocus:c.onFocus,type:"checkbox",value:c.inputValue}))};return c}(b("React").Component);a.propTypes={iconType:b("FBChecklistProps").checkboxIconType};a.defaultProps={iconType:"round",disabled:!1,checked:!1,onBlur:function(){},onFocus:function(){},onChange:function(){},inputName:null,inputValue:null,inputTestID:null};e.exports=a}),null);
__d("FBChecklistPagerMixin",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c={propTypes:{endpoint:a.string.isRequired,onExhaustion:a.func.isRequired,onFetch:a.func,placeholder:a.string.isRequired},getInitialState:function(){return{endpoint:this.props.endpoint,loading:!1}},_shouldFetchMore:function(){if(this.state.loading||!this.state.endpoint)return!1;this.setState({loading:!0});return!0},_onFetch:function(a){this.setState({endpoint:a.endpoint,loading:!1}),this.props.onFetch&&this.props.onFetch(a),a.endpoint||this.props.onExhaustion()}};e.exports=c}),null);
__d("FBChecklistPager.react",["cx","FBChecklistPagerMixin","Keys","React","ShimButton.react","XAsyncRequest","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").createClass({displayName:"FBChecklistPager",mixins:[b("FBChecklistPagerMixin")],fetchMore:function(){if(!this._shouldFetchMore())return;new(b("XAsyncRequest"))().setURI(this.state.endpoint).setHandler(this._fetchHandler).send()},render:function(){var a="_4j3_"+(this.state.loading?" _4j40":"");return b("React").createElement(b("ShimButton.react"),{className:a,onClick:this._clickHandler,onKeyPress:this._keyPressHandler},b("React").createElement(b("XUIText.react"),{size:"meta1",weight:"bold"},this.props.placeholder),b("React").createElement("span",{className:"_4j41"}))},_clickHandler:function(a){a.preventDefault(),this.fetchMore()},_fetchHandler:function(a){a=a.getPayload();this._onFetch(a)},_keyPressHandler:function(a){switch(a.charCode){case b("Keys").SPACE:case b("Keys").RETURN:this.fetchMore()}}});e.exports=a}),null);
__d("FBChecklistScrollMixin",["Animation","ReactDOM","Scroll","Style","highlight","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g=400,h=100,i=300,j=250;a={componentWillUnmount:function(){this.throttled=null},scrollToBottom:function(){this._scrollTo(this._getScrollArea().scrollHeight)},scrollOptionToTop:function(a){if(!this.props.options.find(function(b){return b.id===a}))return;var c=b("ReactDOM").findDOMNode(this.refs[a]);this._scrollTo(c.offsetTop-1,null,i)},scrollToOption:function(a){__p&&__p();var c=this;if(!this.props.options.find(function(b){return b.id===a}))return;var d=this._getScrollArea(),e=b("ReactDOM").findDOMNode(this.refs[a]),f=e.offsetTop+e.offsetHeight,g=b("Scroll").getTop(d)+d.offsetHeight,h=function(){var a=c._getBackgroundColor();a&&b("highlight")(e,null,a)};if(e.offsetTop<b("Scroll").getTop(d))this._scrollTo(e.offsetTop-1,h);else if(f>g)this._scrollTo(f-d.offsetHeight,h);else{h();return}},_getScrollArea:function(){return this.refs.container.getArea()},_getBackgroundColor:function(){var a=this._getScrollArea();while(a){var c=b("Style").get(a,"backgroundColor");if(!k(c))return c;a=a.parentElement}return null},_maybeFetchMoreOptions:function(){this.props.fetchOnScroll&&this.props.showPager&&this.refs.container.getScrollPosition().bottom<g&&this.refs.pager.fetchMore()},_scrollHandler:function(){this.throttled||(this.throttled=b("throttle")(this._maybeFetchMoreOptions,j,this)),this.throttled()},_scrollTo:function(a,c,d){new(b("Animation"))(this._getScrollArea()).to("scrollTop",a).ease(b("Animation").ease.end).duration(d||h).ondone(function(){c&&c()}).go()}};function k(a){if(!a.startsWith("rgba"))return!1;a=a.split(",");return a.length===4&&parseFloat(a[3])===0}e.exports=a}),null);
__d("ShadowedScrollableArea.react",["cx","React","ReactDOM","Scroll","ScrollBoundaryContain","Vector","joinClasses","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=500;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showBottom:!1,showTop:!1},d.getArea=function(){return b("ReactDOM").findDOMNode(d.refs.area)},d.getScrollPosition=function(){var a=b("ReactDOM").findDOMNode(d.refs.area),c=d.$2().height;return{bottom:a.scrollHeight-b("Scroll").getTop(a)-c,top:b("Scroll").getTop(a)}},d.updateShadows=function(){if(d.$3()){var a=d.getScrollPosition();d.setState({showBottom:a.bottom!==0,showTop:a.top!==0})}else(d.state.showBottom||d.state.showTop)&&d.setState({showBottom:!1,showTop:!1})},d.$2=function(){var a=b("ReactDOM").findDOMNode(d.refs.area);return{height:b("Vector").getElementDimensions(a).y,scrollHeight:a.scrollHeight}},d.$3=function(){var a=d.$2();return a.scrollHeight>a.height},d.$1=function(a){d.throttled||(d.throttled=b("throttle")(d.updateShadows,h,babelHelpers.assertThisInitialized(d))),d.throttled()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"scrollable"),ref:"area",style:babelHelpers["extends"]({},this.props.style||{},{maxHeight:this.props.maxHeight})}),this.props.children),c="_2yy7"+(this.state.showBottom?" _2yy8":"")+(this.state.showTop?" _2yy9":"");return b("React").createElement("div",{className:c,onScroll:this.$1},a)};d.componentWillUnmount=function(){this.throttled=null};d.componentDidMount=function(){var a=this.getArea();a&&b("ScrollBoundaryContain").applyToElem(this.getArea())};return c}(b("React").Component);c.propTypes={maxHeight:a.number.isRequired};e.exports=c}),null);
__d("FBChecklist.react",["cx","FBChecklistItem.react","FBChecklistItemAux.react","FBChecklistPager.react","FBChecklistProps","FBChecklistScrollMixin","Image.react","React","ShadowedScrollableArea.react","XUIGrayText.react","uniqueID"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=248,i=32;c=b("React").createClass({displayName:"FBChecklist",mixins:[b("FBChecklistScrollMixin")],propTypes:babelHelpers["extends"]({titleFontShade:a.oneOf(["dark","light","medium"]),titleFontSize:a.any,titleFontWeight:a.any},b("FBChecklistProps")),getDefaultProps:function(){return{maxHeight:h,overflow:"show",imageSize:i,titleFontShade:"medium",titleFontSize:"meta1",titleFontWeight:"bold",checkboxIconType:"round"}},getInitialState:function(){return{instanceID:b("uniqueID")()}},render:function(){__p&&__p();var a=this,c=this.props.options.map(function(c){__p&&__p();var d=null;c.image&&(d=b("React").createElement("span",null,b("React").createElement(b("Image.react"),{alt:c.title,height:a.props.imageSize,src:c.image,width:a.props.imageSize})));var e=null;c.subtitle&&(e=b("React").createElement(b("XUIGrayText.react"),{className:"_25_9",weight:"normal"},c.subtitle));var f="_25_a"+(c.checked?" _25_b":"")+(c.focused?" _25_c":""),g=null;c.iconSrc&&c.iconExplanation&&(g=b("React").createElement(b("Image.react"),{"aria-label":c.iconExplanation,className:"_25_e","data-hover":"tooltip","data-tooltip-content":c.iconExplanation,"data-tooltip-position":"above",src:c.iconSrc}));var h=[a.state.instanceID,c.id].join("_"),i=a.props,j=i.onMouseEnter,k=i.onMouseLeave,l=i.refFunction;i=null;j&&(i=function(){return j(c.id)});var m=null;k!=null&&(m=function(){return k(c.id)});var n=null;l!=null&&(n=function(a){return l(a,c.id)});return b("React").createElement("label",{className:f,htmlFor:h,key:c.id,onMouseEnter:i,onMouseLeave:m,ref:n||c.id},b("React").createElement(b("FBChecklistItem.react"),{context:"inline",paddingLeft:a.props.paddingLeft,paddingRight:a.props.paddingRight},d,b("React").createElement("span",null,b("React").createElement(b("XUIGrayText.react"),{className:"_25_f",shade:a.props.titleFontShade,size:a.props.titleFontSize,weight:a.props.titleFontWeight},c.title,g),e),b("React").createElement(b("FBChecklistItemAux.react"),{disabled:c.disabled,checked:c.checked,iconType:a.props.checkboxIconType,inputID:h,inputName:a._getOptionNameOrFallback(c),onBlur:a.props.onBlur,onChange:a.props.onChange,onFocus:a.props.onFocus,inputValue:c.id})))}),d=null;this.props.showPager&&(d=b("React").createElement(b("FBChecklistPager.react"),{endpoint:this.props.pagerEndpoint,onExhaustion:this.props.onExhaust,onFetch:this.props.onFetch,placeholder:this.props.pagerPlaceholder,ref:"pager"}));c=b("React").createElement("fieldset",{className:"_25_j"},c,d);return this.props.overflow==="scroll"?b("React").createElement(b("ShadowedScrollableArea.react"),{maxHeight:this.props.maxHeight,onScroll:this._scrollHandler,ref:"container"},c):c},_getOptionNameOrFallback:function(a){var b=a.name||this.props.baseName;this.props.multiSelect&&!b.endsWith("[]")&&(b+="["+a.id+"]");return b}});e.exports=c}),null);
__d("OrderedMap",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="key:";function i(a,b){var c={};for(var d=0;d<a.length;d++){var e=a[d],f=b(e);k(f);f=h+f;f in c&&g(0,17329,f);c[f]=e}return c}function j(a,b){this._normalizedObj=a,this._computedPositions=null,this.length=b}function k(a){a!==""&&(typeof a==="string"||typeof a==="number")||g(0,3985)}function l(a,b,c){typeof a==="number"&&typeof b==="number"&&b>=0&&a>=0&&a+b<=c||g(0,3986)}function m(a,b){a&&a.constructor===Object&&(!b||b.constructor===Object)||g(0,3987);var c={},d=0,e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e],d++);for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(e in c||d++,c[e]=b[e]);return new j(c,d)}a={has:function(a){k(a);a=h+a;return a in this._normalizedObj},get:function(a){k(a);var b=h+a;return this.has(a)?this._normalizedObj[b]:void 0},merge:function(a){a instanceof j||g(0,3988);return m(this._normalizedObj,a._normalizedObj)},map:function(a,b){return this.mapRange(a,0,this.length,b)},mapRange:function(a,b,c,d){__p&&__p();var e=this._normalizedObj,f={},g=0;l(b,c,this.length);var i=b+c-1;for(var k in e)if(Object.prototype.hasOwnProperty.call(e,k)){if(g>=b){if(g>i)break;var m=e[k];f[k]=a.call(d,m,k.substr(h.length),g)}g++}return new j(f,c)},filter:function(a,b){return this.filterRange(a,0,this.length,b)},filterRange:function(a,b,c,d){var e={},f=0;this.forEachRange(function(b,c,g){if(a.call(d,b,c,g)){g=h+c;e[g]=b;f++}},b,c);return new j(e,f)},forEach:function(a,b){this.forEachRange(a,0,this.length,b)},forEachRange:function(a,b,c,d){__p&&__p();l(b,c,this.length);var e=this._normalizedObj,f=0;c=b+c-1;for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){if(f>=b){if(f>c)break;var i=e[g];a.call(d,i,g.substr(h.length),f)}f++}},mapKeyRange:function(a,b,c,d){b=this.indexOfKey(b);c=this.indexOfKey(c);b!==void 0&&c!==void 0||g(0,3989);c>=b||g(0,3990);return this.mapRange(a,b,c-b+1,d)},forEachKeyRange:function(a,b,c,d){b=this.indexOfKey(b);c=this.indexOfKey(c);b!==void 0&&c!==void 0||g(0,3991);c>=b||g(0,3992);this.forEachRange(a,b,c-b+1,d)},keyAtIndex:function(a){var b=this._getOrComputePositions();b=b.keyByIndex[a];return b?b.substr(h.length):void 0},keyAfter:function(a){return this.nthKeyAfter(a,1)},keyBefore:function(a){return this.nthKeyBefore(a,1)},nthKeyAfter:function(a,b){var c=this.indexOfKey(a);c!==void 0||g(0,3993,a);return this.keyAtIndex(c+b)},nthKeyBefore:function(a,b){return this.nthKeyAfter(a,-b)},indexOfKey:function(a){k(a);a=h+a;var b=this._getOrComputePositions();b=b.indexByKey[a];return b===void 0?void 0:b},toArray:function(){var a=[],b=this._normalizedObj;for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&a.push(b[c]);return a},_getOrComputePositions:function(){var a=this._computedPositions;a||this._computePositions();return this._computedPositions},_computePositions:function(){this._computedPositions={keyByIndex:{},indexByKey:{}};var a=this._computedPositions.keyByIndex,b=this._computedPositions.indexByKey,c=0,d=this._normalizedObj;for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[c]=e,b[e]=c,c++)}};Object.assign(j.prototype,a);b={from:function(a){a instanceof j||g(0,3994);return m(a._normalizedObj,null)},fromArray:function(a,b){Array.isArray(a)||g(0,3995);typeof b==="function"||g(0,3996);return new j(i(a,b),a.length)}};e.exports=b}),null);
__d("FBChecklistStateMixin",["OrderedMap","requestAnimationFrame"],(function(a,b,c,d,e,f){__p&&__p();a={addOption:function(a,b,c,d,e,f){this.props.multiSelect||this._uncheckAllOptions(),this._insertSingleOption.apply(this,[!1].concat(Array.prototype.slice.call(arguments)))},replaceWithSingleOption:function(a,b,c,d,e,f){this._insertSingleOption.apply(this,[!0].concat(Array.prototype.slice.call(arguments))),this._optionsWereReplaced&&this._optionsWereReplaced()},clearSelection:function(){this._uncheckAllOptions()},getSelection:function(){var a={};this.state.options.forEach(function(b,c){b.checked&&(a[c]=b)});return a},getSelectionCount:function(){return Object.keys(this.getSelection()).length},hasSelection:function(){return this.getSelectionCount()>0},getInitialState:function(){return{options:b("OrderedMap").fromArray(this.props.options,function(a){return a.id}),showPager:this.props.showPager}},shouldComponentUpdate:function(a,b){return this.state.options!==b.options||this.state.showPager!==b.showPager},_changeHandler:function(a){var b=this,c=this._getEventTarget(a);if(this.props.requireSelect&&!c.checked&&this.getSelectionCount()===1)return;c.checked&&!this.props.multiSelect&&this._uncheckAllOptions();this.setState({options:this.state.options.map(function(a,b){b===c.value&&(a.checked=c.checked);return a})},function(){b.props.onChange&&b.props.onChange(b.getSelection())})},_exhaustionHandler:function(){this.setState({showPager:!1})},_fetchHandler:function(a){var c=this;if(!a.options.length){this._exhaustionHandler();return}this._insertOptions(b("OrderedMap").fromArray(a.options,function(a){return a.id}),!1,function(){c.props.scrollOnFetch&&c.scrollOptionToTop&&c.scrollOptionToTop(a.options[0].id)});this.refs.container&&this.refs.container.updateShadows&&b("requestAnimationFrame")(this.refs.container.updateShadows)},_insertSingleOption:function(a,c,d,e,f,g,h){var i=this;d=b("OrderedMap").fromArray([{id:c,title:d,subtitle:e,image:f,checked:!!g,name:h}],function(a){return a.id});this._insertOptions(d,a);this._optionWasAdded&&b("requestAnimationFrame")(function(){return i._optionWasAdded(c)})},_insertOptions:function(a,b,c){this.setState({options:b?a:this.state.options.merge(a)},c)},_uncheckAllOptions:function(){this.setState({options:this.state.options.map(function(a){a.checked=!1;return a})})},_getEventTarget:function(a){return a.target}};e.exports=a}),null);
__d("FBChecklistWrapper.react",["FBChecklist.react","FBChecklistStateMixin","React"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").createClass({displayName:"FBChecklistWrapper",mixins:[b("FBChecklistStateMixin")],propTypes:{},render:function(){return b("React").createElement(b("FBChecklist.react"),babelHelpers["extends"]({},this.props,{onBlur:this._blurHandler,onChange:this._changeHandler,onExhaust:this._exhaustionHandler,onFetch:this._fetchHandler,onFocus:this._focusHandler,options:this.state.options.toArray(),ref:"checklist",showPager:this.state.showPager}))},scrollToBottom:function(){this.refs.checklist.scrollToBottom()},scrollOptionToTop:function(a){this.refs.checklist.scrollOptionToTop(a)},scrollToOption:function(a){this.refs.checklist.scrollToOption(a)},_blurHandler:function(a){var b=this._getEventTarget(a);this.setState({options:this.state.options.map(function(a,c){c===b.value&&(a.focused=!1);return a})})},_focusHandler:function(a){var b=this._getEventTarget(a);this.setState({options:this.state.options.map(function(a,c){a.focused=c===b.value;return a})})}});e.exports=a}),null);
__d("ProfileMaskedTypeahead.react",["cx","AbstractSearchSource","React","SearchSourceWithMetrics","TypeaheadMetricReporter","XUITypeahead.react","joinClasses","requiredIfPropIsTruthy"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.focusInput=function(){d.refs.typeahead.focusInput()};d.getTextFieldDOM=function(){return d.refs.typeahead.getTextFieldDOM()};d.$1=function(){d.props.useMetrics&&d.state.metricReporter.sessionEnd(),d.props.requireSelection&&!d.props.selectedEntry&&d.props.onClear&&d.props.onClear(),d.props.onBlur&&d.props.onBlur()};d.$3=function(){d.props.useMetrics&&d.state.metricReporter.sessionStart(),d.props.onFocus&&d.props.onFocus()};d.$4=function(a,b){d.props.useMetrics&&a&&(d.state.metricReporter.reportSelect(a.getUniqueID(),a.getType(),a.getOrder(),!!b&&b.button>=0,d.props.queryString),d.state.metricReporter.sessionEnd()),d.props.onSelectAttempt&&d.props.onSelectAttempt(a)};d.$2=function(a){if(a&&d.props.useMetrics){a=a.filter(function(a){return!isNaN(parseInt(a.getUniqueID(),10))});d.state.metricReporter.reportResults(a.map(function(a){return a.getUniqueID()}))}};var e=null,f=c.searchSource;c.useMetrics&&(e=new(b("TypeaheadMetricReporter"))(c.metricsData),f=new(b("SearchSourceWithMetrics"))(f,e));d.state={metricReporter:e,searchSource:f,useMask:!1};return d}var d=c.prototype;d.componentDidUpdate=function(){var a=this.refs.typeahead.getTextFieldDOM();a=a.scrollWidth>a.clientWidth;this.state.useMask!==a&&this.setState({useMask:a})};d.render=function(){var a=this.props.selectedEntry,c=a?a.getTitle():this.props.queryString,d=null;this.state.useMask&&(d=b("React").createElement("div",{className:"_4ejq"}));var e=null,f=null;a&&(e=b("React").createElement("input",{name:this.props.selectionName,type:"hidden",value:a.getUniqueID()}));c&&(f=b("React").createElement("input",{name:this.props.queryName,type:"hidden",value:c}));a=b("joinClasses")(this.props.className,"_4ejr"+(this.props.clearable?" _4ejs":"")+(this.props.highlightOnSelect?" _4ejt":"")+(a?" _4eju":"")+(this.props.tallInput?" _4ejv":""));return b("React").createElement("div",{className:a},b("React").createElement(b("XUITypeahead.react"),babelHelpers["extends"]({},this.props,{className:"_4ejw",onBlur:this.$1,onEntriesFound:this.$2,onFocus:this.$3,onSelectAttempt:this.$4,queryString:c,ref:"typeahead",searchSource:this.state.searchSource})),d,f,e)};return c}(b("React").Component);c.propTypes={metricsData:b("requiredIfPropIsTruthy")("useMetrics",a.object),queryName:a.string,requireSelection:a.bool,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,selectionName:a.string,useMetrics:a.bool};c.defaultProps={clearable:!0,highlightOnSelect:!0,queryName:"query",requireSelection:!1,selectionName:"selected_id"};e.exports=c}),null);
__d("ProfileTypeaheadWrapperMixin",["React","SearchableEntry"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c={propTypes:{initialEntry:a.instanceOf(b("SearchableEntry")),initialQuery:a.string},getDefaultProps:function(){return{initialEntry:null,initialQuery:""}},getInitialState:function(){return{queryString:this.props.initialQuery,selectedEntry:this.props.initialEntry}},clearSelection:function(){this.setState({queryString:"",selectedEntry:null},this.props.onClear)},focusInput:function(){this.refs.typeahead.focusInput()},getQueryString:function(){return this.state.queryString},getSelectedEntry:function(){return this.state.selectedEntry},_changeHandler:function(a){var b=this;this.setState({queryString:a.target.value,selectedEntry:null},function(){b.props.onChange&&b.props.onChange(a)})},_selectHandler:function(a,b){var c=this;this.setState({selectedEntry:a},function(){c.props.onSelectAttempt&&c.props.onSelectAttempt(a,b)})}};e.exports=c}),null);
__d("ProfileMaskedTypeaheadWrapper.react",["ProfileMaskedTypeahead.react","ProfileTypeaheadWrapperMixin","React"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ProfileMaskedTypeaheadWrapper",mixins:[b("ProfileTypeaheadWrapperMixin")],propTypes:{},render:function(){return b("React").createElement(b("ProfileMaskedTypeahead.react"),babelHelpers["extends"]({},this.props,{onChange:this._changeHandler,onClear:this.clearSelection,onSelectAttempt:this._selectHandler,queryString:this.state.queryString,ref:"typeahead",selectedEntry:this.state.selectedEntry}))}});e.exports=a}),null);
__d("ProfileTypeaheadContainer.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_1ceo"},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("FBTypeaheadChecklist.react",["FBChecklistWrapper.react","ProfileMaskedTypeaheadWrapper.react","ProfileTypeaheadContainer.react","React","XUITypeahead.react"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={queryString:""},c.clearSelection=function(){return c.refs.checklist.clearSelection()},c.getSelection=function(){return c.refs.checklist.getSelection()},c.$4=function(a){c.props.multiSelect||c.refs.typeahead.clearSelection(),c.props.onChange&&c.props.onChange(a)},c.$1=function(a){__p&&__p();if(!a)return;if(!c.props.multiSelect){c.refs.checklist.clearSelection();return}c.refs.checklist.addOption(a.getUniqueID(),a.getTitle(),a.getSubtitle(),a.getPhoto(),!0,c.props.typeaheadName);c.setState({queryString:""});setTimeout(function(){c.refs.checklist.scrollToOption(a.getUniqueID())},0)},c.$2=function(){c.props.requireSelection&&c.setState({queryString:""})},c.$3=function(a){c.setState({queryString:a.target.value})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a={onSelectAttempt:this.$1,placeholder:this.props.placeholder,searchSource:this.props.searchSource},c=null;this.props.multiSelect?c=b("React").createElement(b("XUITypeahead.react"),babelHelpers["extends"]({},a,{excludedEntries:this.props.excludedEntries,onBlur:this.$2,onChange:this.$3,queryString:this.state.queryString,ref:"typeahead"})):c=b("React").createElement(b("ProfileMaskedTypeaheadWrapper.react"),babelHelpers["extends"]({},a,{queryName:this.props.queryName,ref:"typeahead",requireSelection:this.props.requireSelection,selectionName:this.props.typeaheadName}));return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("FBChecklistWrapper.react"),babelHelpers["extends"]({},this.props,{onChange:this.$4,ref:"checklist"})),b("React").createElement(b("ProfileTypeaheadContainer.react"),null,c))};return c}(b("React").Component);c.propTypes={excludedEntries:a.object,onChange:a.func,placeholder:a.string.isRequired,requireSelection:a.bool,searchSource:a.object.isRequired,typeaheadName:a.string,queryName:function(a,b,c){if(!a.multiSelect&&!a[b])return new Error("Must supply a query name to "+c+" for single-selection mode.")}};c.defaultProps={overflow:"scroll"};e.exports=c}),null);
__d("MessengerParticipantPickerWrapper.react",["cx","Link.react","React","emptyFunction","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=this.props.ParticipantRow,d=this.props.selectedEntries.has(a.getUniqueID()),e=a.getTitle();return b("React").createElement(c,{key:a.getUniqueID(),entry:a,selected:d,onClick:this.props.onClickEntry,onVisible:this.props.onVisibleEntry||b("emptyFunction"),onHidden:this.props.onHiddenEntry||b("emptyFunction"),children:this.$2(d,e)})};d.$2=function(a,c){return b("React").createElement(b("Link.react"),{"aria-checked":a,"aria-label":c,className:"_2elu"+(a?" _2elv":""),href:"#",label:"",role:"checkbox",tabIndex:"0"})};d.render=function(){var a=this,c=[];this.props.entries.forEach(function(b){return c.push(a.$1(b))});var d=this.props.ParticipantList;return b("React").createElement(d,{loading:this.props.loading,formattedEntries:c,role:this.props.role,config:this.props.config})};return c}(b("React").PureComponent);a.defaultProps={role:"listbox"};e.exports=a}),null);
__d("MessengerSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";e.exports={NAME:"WWW_MESSENGER_SEARCH_SESSION_FUNNEL",FETCHED_STATE_IMPRESSION_LIST:"fetched_state_impression_list",LOADING_STATE_IMPRESSION_LIST:"loading_state_impression_list",SEND_SERVER_REQUEST:"send_server_request",WWW_SIDEBAR_TAG:"www",MESSENGER_DOT_COM:"messenger_dot_com",UNIVERSAL_SEARCH:"universal_search",USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",MESSAGE:"message",SMS:"sms",SMS_GROUP:"sms_group",COWORKER:"coworker",OTHER:"other"}}),null);
__d("ChatSearchSource",["AbstractSearchSource","AsyncRequest","Bootloader","CurrentUser","MercuryParticipantTypes","MessengerBootloadedSecondarySearchLogger","MessengerSearchFunnelLoggerConstants","MessengerSecondarySearchFunnelConstants","promiseDone","requireWeak","SearchableEntry","SearchSourceCallbackManager","ShortProfiles","TokenizeUtil","debounce","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;b("requireWeak")("OrderedFriendsList",function(a){g=a});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$ChatSearchSource1=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,searchType:c.searchType||""});d.$ChatSearchSource2=c.queryRequests||[];d.$ChatSearchSource3=c.searchType||"";d.$ChatSearchSource4=!1;d.$ChatSearchSource5=b("debounce")(d.$ChatSearchSource5,100,babelHelpers.assertThisInitialized(d));d.$ChatSearchSource6=c.excludeMemorializedUsers||!1;d.$ChatSearchSource7="";return d}var d=c.prototype;d.bootstrapImpl=function(a){var c=this;b("promiseDone")(b("ShortProfiles").fetchAll(),function(){c.$ChatSearchSource4=!0,c.$ChatSearchSource8(),a()})};d.searchImpl=function(a,b,c){__p&&__p();var d=this,e=null,f={},g=c&&c.onQueryFinished,h=c&&c.onQueryStarted;h&&h(a);h=this.$ChatSearchSource1.search(a,function(c){!e?(e=c,e.forEach(function(a){return f[a.getUniqueID()]=!0})):c.forEach(function(a){var b=a.getUniqueID();f[b]||(e.push(a),f[b]=!0)}),b(e,a),a.length===1&&this.$ChatSearchSource4&&(g&&g(a))}.bind(this),c);if(!h||!this.$ChatSearchSource2||!this.$ChatSearchSource2.length||a.length===0){g&&g(a);return}if(a.length===1){this.$ChatSearchSource4&&(g&&g(a));return}var i={value:a,existing_ids:e&&e.map(function(a){return a.getUniqueID()}).join(","),limit:c&&c.threadLimit,exclude_memorialized_users:this.$ChatSearchSource6,logging_id:c&&c.loggingID},j=this.$ChatSearchSource2.length;this.$ChatSearchSource2.forEach(function(b){var c=Date.now();d.$ChatSearchSource5(i,b,function(b){b=d.$ChatSearchSource9(d.$ChatSearchSource10(b)).filter(function(a){return!!a});d.$ChatSearchSource11(a,b.length,c);d.$ChatSearchSource12(b,a);j--;j===0&&(d.$ChatSearchSource1.setQueryStringAsExhausted(a),g&&g(a))})},this)};d.getAllEntriesMap=function(){return this.$ChatSearchSource1.getAllEntries()};d.$ChatSearchSource11=function(a,c,d){var e=this;if(this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG){var f=Date.now();b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,g){b.logSourceEnded(a,g.SOURCES.SERVER,c,g.QUERY_PROGRESS.FINISHED),e.$ChatSearchSource13(b.getCurrentFunnelID(),d,f,a,c,"universal")},"ChatSearchSource")}else this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,source:b("MessengerSecondarySearchFunnelConstants").SOURCES.SERVER,query:a,numResults:c,status:b("MessengerSecondarySearchFunnelConstants").SOURCE_STATUSES.FINISHED,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.BROADCAST})};d.$ChatSearchSource13=function(a,c,d,e,f,g){var h=this;b("Bootloader").loadModules(["MessengerSearchDataSourceLoadedEventTypedLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,i){new b().setSearchFunnelID(a).setStartTimeMs(c).setEndTimeMs(d).setQueryString(e).setDataSource(i.SOURCES.SERVER).setResultsCount(f).setLoadStatus(i.QUERY_PROGRESS.FINISHED).setIsResultUsed(h.$ChatSearchSource7===e).setSearchSurface(g).log()},"ChatSearchSource")};d.$ChatSearchSource8=function(){var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c.type===b("MercuryParticipantTypes").FRIEND||c.type===b("MercuryParticipantTypes").FB4C});var c=a.map(this.$ChatSearchSource14);c.length&&(this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,source:b("MessengerSecondarySearchFunnelConstants").SOURCES.SHORT_PROFILES,query:"",ids:a,numResults:c.length,status:b("MessengerSecondarySearchFunnelConstants").SOURCE_STATUSES.FINISHED,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.BROADCAST}),this.$ChatSearchSource1.addLocalEntries(c))};d.$ChatSearchSource9=function(a){return a.map(this.$ChatSearchSource15,this)};d.$ChatSearchSource15=function(a,c){if(a.mercury_thread)return!g?null:g.normalizeThreadEntry(a,c);var d=a.text,e=a.uid;if(!d||!b("isValidUniqueID")(e))return null;var f=g?g.getActiveRank(e):0;g&&!g.contains(e)&&(f+=c);return new(b("SearchableEntry"))({uniqueID:e,title:d,order:f,subtitle:a.subtext,type:a.render_type||a.type,photo:a.photo,uri:a.path,auxiliaryData:{isVerified:a.is_verified,isMessengerUser:a.is_messenger_user,alias:a.alias,workForeignEntityInfo:a.work_foreign_entity_info}})};d.$ChatSearchSource10=function(a){a=a.getPayload();if(Array.isArray(a))return a;else if(a&&a.entries)return a.entries;else return[]};d.$ChatSearchSource14=function(a){var c=b("ShortProfiles").getNow(a),d=a==b("CurrentUser").getID()?b("MercuryParticipantTypes").FRIEND:c.type,e=[c.additionalName,c.alternateName].concat(c.searchTokens||[]).join(" "),f=c.name,h=null;return new(b("SearchableEntry"))({uniqueID:a,title:f,order:g?g.getActiveRank(a):0,subtitle:h,keywordString:e,type:d,photo:c.thumbSrc,uri:c.uri,auxiliaryData:{isMessengerUser:c.is_messenger_user,alias:c.alias}})};d.$ChatSearchSource5=function(a,c,d,e){this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG&&a.value!==this.$ChatSearchSource7&&(b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(c,d,e){c.logStartQuery(b("MessengerSearchFunnelLoggerConstants").NAME,a.value),d.logSourceStarted(a.value,e.SOURCES.SERVER)},"ChatSearchSource"),this.$ChatSearchSource7=a.value),new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("GET").setReadOnly(!0).setHandler(d).setErrorHandler(e||b("emptyFunction")).setAllowCrossPageTransition(!0).send()};d.$ChatSearchSource12=function(a,b){a.length&&this.$ChatSearchSource1.addQueryEntries(a,b)};d.addLocalEntries=function(a){this.$ChatSearchSource1.addLocalEntries(a)};d.refreshData=function(){b("ShortProfiles").fetchAll()};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("ProfileQuestionsTypeaheadChecklist.react",["Arbiter","FBTypeaheadChecklist.react","React"],(function(a,b,c,d,e,f){__p&&__p();var g="402159529891743";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=a[g];b("Arbiter").inform("no-valid-answer-select",{selected:a&&a.checked},"persistent")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("FBTypeaheadChecklist.react"),babelHelpers["extends"]({},this.props,{onChange:this.$1}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPickerParticipantItem.react",["cx","Keys","OnVisible.react","React","SplitImage.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=36;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){d.props.onClick(d.props.entry)},d.$5=function(a){(a.keyCode===b("Keys").SPACE||a.keyCode===b("Keys").RETURN)&&(a.preventDefault(),d.$4(a))},d.onVisible=function(){d.props.onVisible(d.props.entry)},d.willUnmount=function(){d.props.onHidden(d.props.entry)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.entry,c=a.getPhoto();a=a.getAuxiliaryData();var d=[];!c&&a&&typeof a==="object"&&a.participantsToRender&&Array.isArray(a.participantsToRender)&&(d=a.participantsToRender.map(function(a){return a&&typeof a==="object"&&typeof a.image_src==="string"?a.image_src:""}));return c||d.length?b("React").createElement(b("SplitImage.react"),{srcs:c?[String(c)]:d,size:h,className:"_6c12"}):b("React").createElement("div",{className:"_3-w4"})};d.$2=function(){return this.props.entry.getTitle()};d.$3=function(){return this.props.entry.getSubtitle()};d.componentWillUnmount=function(){this.willUnmount()};d.render=function(){var a=b("joinClasses")("_599m _1sex _5mne"+(this.props.selected?" _1sfg":"")+" _6c13",this.props.className);return b("React").createElement(b("OnVisible.react"),{onVisible:this.onVisible,onHidden:this.willUnmount},b("React").createElement("li",{tabIndex:0,key:"messengerList","aria-checked":this.props.selected,className:a,onMouseDown:this.$4,onKeyDown:this.$5,role:"checkbox"},b("React").createElement("div",{className:"_1sez",key:"messengerListItem"},b("React").createElement("div",{className:"_1se-"},b("React").createElement("div",{className:"_1se_"})),this.$1(),b("React").createElement("div",{className:"_6c14"},b("React").createElement(b("XUIText.react"),{className:"_3qpq _3qps",size:"header3"},this.$2()),b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_3-wf"},this.$3())))))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPickerParticipantPicker.react",["cx","fbt","CenteredContainer.react","DOMContainer.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=null;return b}var d=c.prototype;d.render=function(){return this.props.formattedEntries.length===0&&!this.props.loading?b("React").createElement(b("CenteredContainer.react"),{className:"_2pi1"},h._("No results")):b("React").createElement("ol",{className:"_159h"},this.props.formattedEntries,this.props.loading?this.$2():null)};d.$2=function(){var a=this.props.config&&this.props.config.shimmer;if(a)return b("React").createElement("li",{className:"_6c0s"},this.props.formattedEntries.length>0?b("React").createElement(b("DOMContainer.react"),null,a):new Array(4).fill(0).map(function(c,d){return b("React").createElement(b("DOMContainer.react"),{key:d},a)}));else return b("React").createElement("div",null)};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerSharingSpacesSelectorMessengerSearch.react",["ix","cx","fbt","ChatSearchSource","Image.react","MessengerSecondarySearchFunnelConstants","React","SearchableTextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$1=new(b("ChatSearchSource"))({queryRequests:[{uri:"/ajax/mercury/composer_query.php"}],excludeMemorializedUsers:!0,searchType:b("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER});return c}var d=c.prototype;d.componentDidMount=function(){this.$2&&this.$2.focusInput()};d.render=function(){var a=this,c=i._("Search Friends and Groups");return b("React").createElement("div",{className:"_6a8z"},b("React").createElement(b("Image.react"),{src:g("492644")}),b("React").createElement(b("SearchableTextInput.react"),{className:"_1-tt",ref:function(b){a.$2=b},onChange:this.props.onSearchChange,onEntriesFound:this.props.onSearchEntriesFound,placeholder:c,queryString:this.props.query,searchSource:this.$1,searchSourceOptions:{onQueryFinished:this.props.onSearchFinished}}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_TAB:"chat_tab_add_people",JEWEL:"jewel_new_message",CHAT_SIDEBAR:"chat_sidebar_new_message",GCF_JEWEL:"jewel_new_group",GCF_CHAT_SIDEBAR:"chat_sidebar_new_group",GCF_SHARE_FLOW:"chat_share_message_to_messenger",CHAT_POLL:"chat_poll_button",WORK_CHAT_HEADER_NEW_GROUP_BUTTON:"work_chat_header_new_group_button"})}),null);
__d("ReactComposerSharingSpacesSelectorMessengerSectionHeader.react",["cx","fbt","JSResource","LeftRight.react","MessengerGroupCreationEntryPoint","React","ReactComposerSharingSpacesSelectorMessengerSearch.react","SharingSpacesStrings","XUIText.react","isKeyActivation","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("MessengerGroupCreateDialogImpl.react").__setRef("ReactComposerSharingSpacesSelectorMessengerSectionHeader.react")),j=422,k=477;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("React").createElement(b("XUIText.react"),{tabIndex:0,role:"button",onKeyDown:function(c){return b("isKeyActivation")(c)?a.props.onClickCreateGroup():null},onClick:this.props.onClickCreateGroup,className:"_1-tr"},h._("Create Group"));return b("React").createElement("div",{className:"_1shc _6c0r"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("XUIText.react"),{size:"body3",weight:"bold",className:"_1shd"},b("SharingSpacesStrings").SHARING_SPACES_SELECTOR_DESTINATION_MESSENGER),b("React").createElement("div",null,this.props.showSearch?null:b("React").createElement(b("XUIText.react"),{tabIndex:0,role:"button",onKeyDown:function(c){return b("isKeyActivation")(c)?a.props.onClickSearch():null},onClick:this.props.onClickSearch,className:"_1-tr"},h._("Search")," \xb7 "),c,b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},this.props.showCreateGroupDialog?b("React").createElement(i,{entryPoint:b("MessengerGroupCreationEntryPoint").GCF_SHARE_FLOW,dialogTitle:h._("Create Group"),pickerScrollAreaHeight:j,selectedSectionHeight:k,isShown:!0,onClose:this.props.onCreateGroupDialogClose,doNotCreateGroup:!0}):b("React").createElement("div",null)))),this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerSharingSpacesSelectorMessengerSection.react",["cx","ChatTypeaheadConstants","ComposerDestinationsLoggingUtils","Focus","MessengerDestinationPickerParticipantItem.react","MessengerDestinationPickerParticipantPicker.react","MessengerParticipantPickerWrapper.react","React","ReactComposerAudienceActions","ReactComposerAudienceMessengerTypes","ReactComposerLoggingStore","ReactComposerSharingSpacesSelectorMessengerSearch.react","ReactComposerSharingSpacesSelectorMessengerSectionHeader.react","ReactDOM","SharingSpacesStrings","Tooltip.react","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loadingQuery:!1,query:"",searchResults:[],isMessengerListLoading:!0,messengerRecipientEntries:[],showSearch:!1,showCreateGroupDialog:!1},d.$9=function(a){var c=d.state.query?d.state.searchResults:d.state.messengerRecipientEntries;c=c.map(function(a){return a.getUniqueID()}).indexOf(a.getUniqueID());b("ComposerDestinationsLoggingUtils").logComposerDestinationsMessengerThreadToggled(d.props.composerID,b("ReactComposerLoggingStore").getSessionID(d.props.composerID),!d.props.selectedEntries.flatten().has(a.getUniqueID()),a.getUniqueID(),d.$10(a),c);b("ReactComposerAudienceActions").toggleMessengerEntry(d.props.composerID,a.getUniqueID(),d.$10(a))},d.$4=function(a){if(a&&d.props.selectedEntries.isDuplicateNewGroup(a.getUniqueID())){d.setState({showCreateGroupDialog:!1});return}b("ComposerDestinationsLoggingUtils").logComposerDestinationsMessengerGroupCreationFinished(d.props.composerID);a&&(b("ReactComposerAudienceActions").addNewGroup(d.props.composerID,a),d.$9(a));d.setState({showCreateGroupDialog:!1})},d.$2=function(){b("ComposerDestinationsLoggingUtils").logComposerDestinationsMessengerSearchOpened(d.props.composerID),d.setState(function(a){return{showSearch:!a.showSearch}})},d.$3=function(){b("ComposerDestinationsLoggingUtils").logComposerDestinationsMessengerGroupCreationOpened(d.props.composerID),d.setState(function(a){return{showCreateGroupDialog:!0}})},d.$8=function(a){a===d.state.query&&d.setState({loadingQuery:!1})},d.$6=function(a){if(a.target instanceof HTMLInputElement){a=a.target.value;d.setState({loadingQuery:!0,query:a})}},d.$7=function(a){a=a.filter(function(a){return a.getType()===b("ChatTypeaheadConstants").THREAD_TYPE||a.getType()===b("ChatTypeaheadConstants").FRIEND_TYPE});d.setState({searchResults:a})},d.$5=function(a){d.messengerSection=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("li",{"aria-disabled":this.props.isDisabled,className:"_1pek"},this.props.isDisabled?b("React").createElement(b("Tooltip.react"),{display:"block",tooltip:b("SharingSpacesStrings").MESSENGER_DISABLED_TOOLTIP},this.$1()):this.$1())};d.$1=function(){return b("React").createElement("section",{className:this.props.isDisabled?"_3560":""},b("React").createElement(b("ReactComposerSharingSpacesSelectorMessengerSectionHeader.react"),{showSearch:this.state.showSearch,onClickSearch:this.$2,onClickCreateGroup:this.$3,showCreateGroupDialog:this.state.showCreateGroupDialog,onCreateGroupDialogClose:this.$4,ref:this.$5},this.state.showSearch?b("React").createElement(b("ReactComposerSharingSpacesSelectorMessengerSearch.react"),{onSearchChange:this.$6,onSearchEntriesFound:this.$7,query:this.state.query,onSearchFinished:this.$8}):null),b("React").createElement(b("MessengerParticipantPickerWrapper.react"),{ParticipantRow:b("MessengerDestinationPickerParticipantItem.react"),ParticipantList:b("MessengerDestinationPickerParticipantPicker.react"),onClickEntry:this.$9,loading:this.state.isMessengerListLoading||this.state.loadingQuery,entries:this.state.query?this.state.searchResults:Array.from(this.props.selectedEntries[b("ReactComposerAudienceMessengerTypes").ALL_NEW_GROUPS]).concat(this.state.messengerRecipientEntries),selectedEntries:this.props.selectedEntries.flatten(),config:this.props.config}))};d.$10=function(a){if(a.getType()===b("ChatTypeaheadConstants").THREAD_TYPE){a=a.getAuxiliaryData();return typeof a==="object"&&a!==null&&a.new_thread===!0?b("ReactComposerAudienceMessengerTypes").NEW_GROUP:b("ReactComposerAudienceMessengerTypes").EXISTING_GROUP}return b("ReactComposerAudienceMessengerTypes").INDIVIDUAL};d.componentDidMount=function(){var a=this;this.$11();b("ComposerDestinationsLoggingUtils").logComposerDestinationsBottomSheetOpened(this.context.composerID);b("requireWeak")("OrderedFriendsList",function(b){return b.getSearchableEntries(h,!0,function(b){a.setState({messengerRecipientEntries:b,isMessengerListLoading:!1})})})};d.$11=function(){if(this.messengerSection){var a=b("ReactDOM").findDOMNode(this.messengerSection);a instanceof HTMLElement&&b("Focus").set(a)}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerSharingSpacesSelectorMessengerContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceMessengerTypes","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentStore","ReactComposerSharingSpacesSelectorMessengerSection.react","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isDisabled:!1},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ReactComposerTaggerStore"),b("ReactComposerStatusStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerAudienceStore")]};c.calculateState=function(a,c){__p&&__p();a=b("ReactComposerTaggerStore").isDisabled(c.composerID,b("ReactComposerTaggerType").MESSENGER);var d=b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(c.composerID);if(a&&!d.isEmpty())b("ReactComposerAudienceActions").storeSelectedMessengerEntries(c.composerID);else if(!a&&!b("ReactComposerAudienceStore").getStoredMessengerRecipientEntries(c.composerID).isEmpty()){d=b("ReactComposerAudienceStore").getStoredMessengerRecipientEntries(c.composerID);d.flatten().forEach(function(a){return b("ReactComposerAudienceActions").toggleMessengerEntry(c.composerID,a,b("ReactComposerAudienceMessengerTypes").INDIVIDUAL)});b("ReactComposerAudienceActions").clearStoredSelectedMessengerEntries(c.composerID)}return{isDisabled:a}};var d=c.prototype;d.render=function(){return b("React").createElement(b("ReactComposerSharingSpacesSelectorMessengerSection.react"),babelHelpers["extends"]({},this.props,{isDisabled:this.state.isDisabled}))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);