if (self.CavalryLogger) { CavalryLogger.start_js(["4JxTc"]); }

__d("ReactComposerAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({REGISTER_ATTACHMENT:null,INITIALIZE_ATTACHMENT:null,SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:null,SELECT_ATTACHMENT:null,SET_ATTACHMENT_MARKUP:null,SET_INITIALIZED:null,SET_BOOTLOADED:null,SET_BOOTSTRAPPED:null,SET_CONTENT_MULTI_SHARE:null,UPLOAD_ATTACHMENT:null},"ReactComposerAttachmentActionType")}),null);
__d("ReactComposerMediaUploadType",[],(function(a,b,c,d,e,f){e.exports={PHOTO:"PHOTO",VIDEO:"VIDEO"}}),null);
__d("ReactComposerScrapedAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_SCRAPE_CLEARED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_SHARE_SELECTED:null,ATTACHMENT_TITLE_EDITED:null,ATTACHMENT_DESCRIPTION_EDITED:null,ATTACHMENT_IMAGE_DESELECTED:null,ATTACHMENT_BREAKING_CONFIG_SET:null,ATTACHMENT_CLEAR_SPINNER:null},"ReactComposerScrapedAttachmentActionType")}),null);
__d("ReactComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({COMPOSER_ENTRY:null,COMPOSER_CANCEL:null,COMPOSER_NAVIGATE_AWAY_ATTEMPT:null,COMPOSER_SHARESHEET_POST_CLICKED:null,INIT_CONFIG:null,PAGES_IG_PHOTO_UPLOAD_STARTED:null,PAGES_JOB_AUTOCONVERT_STARTED:null,PAGES_OFFER_AUTOCONVERT_STARTED:null,POST_ERROR:null,POST_STARTED_LOGGING_ONLY_DO_NOT_USE:null,POST_STARTED:null,POST_INTENDED:null,POST_SUCCEEDED:null,POST_FINALLY:null,POST_PREPROCESSING:null,PUBLISH_STARTED:null,PUBLISH_SUCCEEDED:null,COMPOSER_RESET:null,EXPAND_SPROUTS:null,COLLAPSE_SPROUTS:null,FEATURE_INTENT:null,FEATURE_DONE:null,FEATURE_CANCEL:null,SCHEDULE:null,DRAFT:null,SAVE_STARTED:null,SET_LOGGED_SPROUT_PROMOTION_VIEW:null,SET_FINISHED_SPROUT_PROMOTION:null,SET_QUEUE_FINISHED_SPROUT_PROMOTION:null,SPROUT_VIEW_UPDATE:null},"ReactComposerActionTypes")}),null);
__d("ReactComposerLoggingQueue",["invariant","Bootloader","requireWeak"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;b("requireWeak")("ReactComposerLoggingStore",function(a){h=a});var i=[];a={add:function(a){if(a&&a.suppressWaterfallLogging)return;a&&a.composerID||g(0,1573);if(h&&h.isActivated(a.composerID))return;i.push(a)},initBootload:function(a,c,d,e){b("Bootloader").loadModules(["ComposerXSessionIDs","ComposerXMarauderLogger","ReactComposerPerfLogger","ReactComposerLoggingStore"],function(f,g,i,b){f.resetSessionID(a),g.registerComposer(c,d,e),i.registerComposer(c,e.targetType,e.ref,d),b.activate(a)},"ReactComposerLoggingQueue")},pop:function(){return i.shift()},getLength:function(){return i.length}};e.exports=a}),null);
__d("ReactComposerDispatcher",["Dispatcher_DEPRECATED","ReactComposerLoggingQueue","ReactComposerNestedActionDispatchTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$ReactComposerDispatcher1=[];return b}var d=c.prototype;d.dispatch=function(c){__p&&__p();if(this.isDispatching())new(b("ReactComposerNestedActionDispatchTypedLogger"))().setOuterActionType(this.$ReactComposerDispatcher2.type).setInnerActionType(c.type).setStack(new Error().stack).log(),this.$ReactComposerDispatcher1.push(c);else{this.$ReactComposerDispatcher2=c;a.prototype.dispatch.call(this,c);delete this.$ReactComposerDispatcher2;if(this.$ReactComposerDispatcher1.length>0){var d=this.$ReactComposerDispatcher1.shift();this.dispatch(d)}}b("ReactComposerLoggingQueue").add(c)};return c}(b("Dispatcher_DEPRECATED"));e.exports=new a()}),null);
__d("ReactComposerStoreBase",["EventEmitter","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerEvents"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$ReactComposerStoreBase1=c;e.$ReactComposerStoreBase2=new Map();e.$ReactComposerStoreBase3=b("ReactComposerDispatcher");e.$ReactComposerStoreBase4=e.$ReactComposerStoreBase3.register(function(a){switch(a.type){case b("ReactComposerActionTypes").COMPOSER_RESET:e.__cleanup(a);break}d(a)});return e}var d=c.prototype;d.getComposerData=function(a){var b=this.$ReactComposerStoreBase2.get(a);b||(b=this.$ReactComposerStoreBase1(),this.$ReactComposerStoreBase2.set(a,b));return b};d.clearComposerData=function(a){this.$ReactComposerStoreBase2.set(a,this.$ReactComposerStoreBase1())};d.addChangeListener=function(c){return a.prototype.addListener.call(this,b("ReactComposerEvents").CHANGE,c)};d.addListener=function(b,c,d){if(arguments.length===1&&typeof b==="function")return this.addChangeListener(b);else return a.prototype.addListener.apply(this,arguments)};d.emitChange=function(a){this.emit(b("ReactComposerEvents").CHANGE,{composerID:a})};d.getDispatchToken=function(){return this.$ReactComposerStoreBase4};d.getDispatcher=function(){return this.$ReactComposerStoreBase3};d.validateAction=function(a,b){b=[].concat(b);var c=b.map(function(b){if(a[b]===void 0)throw new Error("Action missing field: "+b);return a[b]});return b.length===1?c[0]:c};d.__cleanup=function(a){this.clearComposerData(a.composerID),this.emitChange(a.composerID)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ReactComposerActionStore",["Arbiter","AsyncResponse","ReactComposerActionTypes","ReactComposerEvents","ReactComposerStoreBase"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();c=c?c:function(){return null};var e;c=a.call(this,c,function(a){__p&&__p();if(!(e&&e.__shouldIgnoreAction(a)))switch(a.type){case b("ReactComposerActionTypes").POST_STARTED:e&&e.$ReactComposerActionStore2(a);break;case b("ReactComposerActionTypes").POST_INTENDED:e&&e.$ReactComposerActionStore3(a);break;case b("ReactComposerActionTypes").POST_SUCCEEDED:e&&e.$ReactComposerActionStore4(a);break;case b("ReactComposerActionTypes").POST_ERROR:e&&e.$ReactComposerActionStore5(a);break;case b("ReactComposerActionTypes").POST_FINALLY:e&&e.$ReactComposerActionStore6(a);break;case b("ReactComposerActionTypes").POST_PREPROCESSING:e&&e.$ReactComposerActionStore7(a);break;case b("ReactComposerActionTypes").SAVE_STARTED:e&&e.$ReactComposerActionStore8(a);break;default:}d&&d(a)})||this;e=babelHelpers.assertThisInitialized(c);c.$ReactComposerActionStore1=new Set();return c}var d=c.prototype;d.registerComposerID=function(a){this.$ReactComposerActionStore1.add(a)};d.$ReactComposerActionStore2=function(a){var c=this.validateAction(a,"composerID");this.__onPostStarted&&this.__onPostStarted(a);b("Arbiter").inform(b("ReactComposerEvents").POST_STARTED+c)};d.$ReactComposerActionStore3=function(a){this.validateAction(a,["composerID","actorID","config","targetID"]),(!this.__canPost||this.__canPost(a))&&this.$ReactComposerActionStore2(a)};d.$ReactComposerActionStore4=function(a){var c=this.validateAction(a,"composerID");this.__onPostSucceeded&&this.__onPostSucceeded(a);b("Arbiter").inform(b("ReactComposerEvents").POST_SUCCEEDED+c)};d.$ReactComposerActionStore5=function(a){if(this.__onPostError)return this.__onPostError(a);a.response&&b("AsyncResponse").defaultErrorHandler(a.response)};d.$ReactComposerActionStore6=function(a){this.__onPostFinally&&this.__onPostFinally(a),b("Arbiter").inform(b("ReactComposerEvents").POST_FINALLY)};d.$ReactComposerActionStore7=function(a){this.__onPostPreprocessing&&this.__onPostPreprocessing(a)};d.$ReactComposerActionStore8=function(a){var c=this.validateAction(a,"composerID");this.__onSaveStarted&&this.__onSaveStarted(a);b("Arbiter").inform(b("ReactComposerEvents").POST_STARTED+c)};d.__shouldIgnoreAction=function(a){a=this.validateAction(a,"composerID");return!this.$ReactComposerActionStore1.has(a)};return c}(b("ReactComposerStoreBase"));e.exports=a}),null);
__d("ReactComposerFocusActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({SUBSCRIBE:null,UNSUBSCRIBE:null,FOCUS_ACQUIRED:null,FOCUS_LOST:null})}),null);
__d("ReactComposerSproutsDisplayState",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({INLINE:null,EXPANDED:null},"ReactComposerSproutsDisplayState")}),null);
__d("SproutConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={MAX_INLINE_SPROUTS_COUNT:3};e.exports=a}),null);
__d("ReactComposerStore",["Bootloader","ComposerActorType","ComposerLoggingEntryPointType","ComposerLoggingFlowType","ComposerLoggingLayoutType","PagesSharesheetDestination","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerInit","ReactComposerScrapedAttachmentActionType","ReactComposerSproutsDisplayState","SproutConfigConstants","TBLPagesComposerEventLocation","UserScheduledPostsTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{isActive:!1,orderedSprouts:[],orderedInlineSprouts:[],serverErrorResponse:null,posting:!1,postSucceeded:!1,publishing:!1,rankerRequestID:null,sproutSurface:null,ref:null,targetType:null,sproutsDisplayState:b("ReactComposerSproutsDisplayState").INLINE,scheduledPublishTime:null,hasLoggedSproutPromotionView:!1,hasFinishedSproutPromotion:!1}},function(a){__p&&__p();switch(a.type){case b("ReactComposerActionTypes").INIT_CONFIG:d&&d.$ReactComposerStore1(a);break;case b("ReactComposerActionTypes").DRAFT:d&&d.$ReactComposerStore2(a);break;case b("ReactComposerActionTypes").PUBLISH_STARTED:d&&d.$ReactComposerStore3(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT_LOGGING_ONLY_DO_NOT_USE:d&&d.$ReactComposerStore4(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d&&d.$ReactComposerStore4(a);break;case b("ReactComposerActionTypes").EXPAND_SPROUTS:d&&d.$ReactComposerStore5(a);break;case b("ReactComposerActionTypes").COLLAPSE_SPROUTS:d&&d.$ReactComposerStore6(a);break;case b("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT:case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d&&d.$ReactComposerStore7(a);break;case b("ReactComposerActionTypes").SCHEDULE:d&&d.$ReactComposerStore8(a);break;case b("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW:d&&d.$ReactComposerStore9(a);break;case b("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION:d&&d.$ReactComposerStore10(a);break;case b("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION:d&&d.$ReactComposerStore11(a);break;case b("ReactComposerActionTypes").PAGES_IG_PHOTO_UPLOAD_STARTED:d&&d.handleIgPhotoUploadStarted(a);break;case b("ReactComposerActionTypes").PAGES_JOB_AUTOCONVERT_STARTED:d&&d.$ReactComposerStore12(a);break;case b("ReactComposerActionTypes").PAGES_OFFER_AUTOCONVERT_STARTED:d&&d.$ReactComposerStore13(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerStore8=function(a){this.getRef(a.composerID)==="timeline"&&this.getTargetType(a.composerID)==="feed"&&new(b("UserScheduledPostsTypedLogger"))().setAction("scheduled_post_submit").log();var c=this.getComposerData(a.composerID);c.unpublishedContentType="SCHEDULED";c.scheduledPublishTime=a.scheduleDate};d.$ReactComposerStore2=function(a){a=this.getComposerData(a.composerID);a.unpublishedContentType="DRAFT";a.scheduledPublishTime=null};d.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};d.getServerErrorResponse=function(a){return this.getComposerData(a).serverErrorResponse};d.getRef=function(a){return this.getComposerData(a).ref};d.getTargetType=function(a){return this.getComposerData(a).targetType};d.getOrderedSprouts=function(a){return this.getComposerData(a).orderedSprouts};d.getDisplayedSprouts=function(a){a=this.getComposerData(a);return a.sproutsDisplayState==b("ReactComposerSproutsDisplayState").EXPANDED?a.orderedSprouts:a.orderedInlineSprouts};d.getRankerRequestID=function(a){return this.getComposerData(a).rankerRequestID};d.isSaving=function(a){return Boolean(this.getComposerData(a).saving)};d.isPosting=function(a){return this.getComposerData(a).posting};d.hasPostSucceeded=function(a){return this.getComposerData(a).postSucceeded};d.isActive=function(a){return this.getComposerData(a).isActive};d.isPublishing=function(a){return this.getComposerData(a).publishing};d.getSproutsDisplayState=function(a){return this.getComposerData(a).sproutsDisplayState};d.getSproutSurface=function(a){a=this.getComposerData(a);return a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE?a.inlineSproutSurface:a.sproutSurface};d.hasLoggedSproutPromotionView=function(a){return this.getComposerData(a).hasLoggedSproutPromotionView};d.hasFinishedSproutPromotion=function(a){return this.getComposerData(a).hasFinishedSproutPromotion};d.getClearSproutPromotionOnNewComposer=function(a){return this.getComposerData(a).clearSproutPromotionOnNewComposer};d.isUploading=function(a){return this.getComposerData(a).uploading};d.shouldShowVoiceSwitcherNux=function(a){return this.getComposerData(a).shouldShowVoiceSwitcherNux};d.handleIgPhotoUploadStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};d.__shouldIgnoreAction=function(a){return!1};d.__onPostStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};d.__onPostPreprocessing=function(a){this.__onPostStarted(a)};d.__onPostSucceeded=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.serverErrorResponse=null;a.posting=!1;a.postSucceeded=!0;a.publishing=!1;this.emitChange(b)};d.__onPostError=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.serverErrorResponse=a.response;c.posting=!1;c.postSucceeded=!1;c.publishing=!1;this.emitChange(b)};d.__onPostFinally=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!1;a.publishing=!1;a.saving=!1;this.emitChange(b)};d.__onSaveStarted=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.saving=!0;this.emitChange(b)};d.$ReactComposerStore1=function(a){__p&&__p();var c=this.validateAction(a,["composerID","loggingConfig","activateOnInit"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(d);f.ref=e.ref;f.composerVersion=e.composerVersion;f.targetType=e.targetType;f.rankerRequestID=e.rankerRequestID||null;f.sproutSurface=e.sproutSurface||null;f.inlineSproutSurface=e.inlineSproutSurface||null;f.lazySproutsExpand=a.lazySproutsExpand||!1;f.actorType=e.actorType||b("ComposerActorType").OTHER;f.composerFlow=e.composerFlow||b("ComposerLoggingFlowType").UNKNOWN;f.composerLayout=e.composerLayout||b("ComposerLoggingLayoutType").UNKNOWN;f.entryPoint=e.entryPoint||b("ComposerLoggingEntryPointType").UNKNOWN;f.composerLocation=e.composerLocation||b("TBLPagesComposerEventLocation").UNKNOWN;var g=e.actorID,h=e.isActorAPage;f.actorID=g?g:null;f.isActorAPage=h?h:!1;h=(g=e.destinationsConfig)==null?void 0:g.destinations;if(h){e=!1;g=!1;var i=!1,j=!1;h.map(function(a){switch(a.type){case b("PagesSharesheetDestination").STORY:e=!0;break;case b("PagesSharesheetDestination").GROUPS:i=!0;break;case b("PagesSharesheetDestination").INSTAGRAM:g=!0;j=a.extra_config.instagram.isEnabled==!0;break;default:break}});f.pageComposerDestinationsConfig={isSharesheetEnabled:!0,showStorySection:e,showInstagramSection:g,showGroupSection:i,isInstagramAuthenticated:j}}f.orderedSprouts=[];f.orderedInlineSprouts=[];h=a.sproutsConfig;a=a.promotedSprout;if(h){a&&(f.orderedSprouts.push(a),f.orderedInlineSprouts.push(a));for(var k in h)h[k].enabled&&k!==a&&(f.orderedSprouts.push(k),f.orderedInlineSprouts.length<b("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT&&h[k].inline&&f.orderedInlineSprouts.push(k))}c&&this.$ReactComposerStore14(d);this.emitChange(d)};d.$ReactComposerStore9=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasLoggedSproutPromotionView=!0;this.emitChange(b)};d.$ReactComposerStore10=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasFinishedSproutPromotion=!0;a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};d.$ReactComposerStore11=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};d.$ReactComposerStore3=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.publishing=!0;this.emitChange(b)};d.$ReactComposerStore12=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};d.$ReactComposerStore13=function(a){var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};d.$ReactComposerStore7=function(a){var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.uploading=a.uploading;this.emitChange(b)};d.$ReactComposerStore4=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.lazySproutsExpand||(c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").EXPANDED);this.$ReactComposerStore14(a);this.emitChange(a)};d.$ReactComposerStore5=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").EXPANDED;this.emitChange(a)};d.$ReactComposerStore6=function(a){a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").INLINE;this.emitChange(a)};d.$ReactComposerStore14=function(a){var c=this.getComposerData(a);c.isActive||(c.isActive=!0,b("Bootloader").loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(b,c,d,e){c.onBeforeUnload(b(d.handler,a,e.getNextURI())),c.onUnload(b(d.possiblyLogComposerCancelEvent,a)),c.onLeave(b(d.possiblyLogComposerCancelEvent,a))},"ReactComposerStore"))};d.__cleanup=function(a){window.setTimeout(b("ReactComposerInit").resetComposer.bind(null,a.composerID),0)};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerInit",["invariant","Arbiter","React","ReactComposerEvents","ReactComposerIDGenerator","ReactComposerStore","ReactDOM","ge","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();var h={_isUnmounting:!1,instances:new Map(),changeProps:function(a,b,c){c===void 0&&(c=!1);var d=h._getCurrentInstance(a);d.props=b;h.resetComposer(a,c)},normalizeComposerID:function(a){a.contextConfig.composerID||(a.contextConfig.composerID=b("ReactComposerIDGenerator").getID());return a.contextConfig.composerID},init:function(a,c,d){var e=h.normalizeComposerID(c);a={ComposerModule:a,props:c,container:d,hidden:!1};this._render(a);h.instances.set(e,a);b("Arbiter").inform(b("ReactComposerEvents").INSTANCE_MOUNTED+e)},initWithoutRendering:function(a,c,d){var e=h.normalizeComposerID(c);a={ComposerModule:a,props:c,container:d,hidden:!1};h.instances.set(e,a);b("Arbiter").inform(b("ReactComposerEvents").INSTANCE_MOUNTED+e)},_render:function(a){var c=a.ComposerModule,d=a.props;a=a.container;b("ReactDOM").render(b("React").createElement(c,d),a)},_createNewComposer:function(a,c,d){d===void 0&&(d=!0),a.props.config!==void 0&&a.props.config.sproutsPromotionConfig&&a.props.config.sproutsPromotionConfig.promotionID&&(b("ReactComposerStore").getClearSproutPromotionOnNewComposer(a.props.contextConfig.composerID)&&(a.props.config.sproutsPromotionConfig={})),a.props.config!==void 0&&a.props.config.pagesComposerNuxConfig&&b("ifRequired")("PagesComposerNuxUtils",function(b){a.props.config.pagesComposerNuxConfig=b.updatePagesComposerNuxConfig(a.props.contextConfig.composerID)}),a.props.contextConfig.composerID=b("ReactComposerIDGenerator").getID(),d&&(a.props.prefillConfig={}),h.init(a.ComposerModule,a.props,c)},resetComposer:function(a,c){c===void 0&&(c=!0);var d=h._getCurrentInstance(a);h.unmountInstance(a);d.hidden?d.container.parentNode&&d.container.parentNode.removeChild(d.container):h._createNewComposer(d,d.container,c);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:d.props.contextConfig.composerID})},hideComposer:function(a){a=h._getCurrentInstance(a);a.container.style.display="none";a.hidden=!0},showComposer:function(a){a=h._getCurrentInstance(a);a.container.style.display="block";a.hidden=!1},hideAndReplaceComposer:function(a){var c=h._getCurrentInstance(a),d=c.container.cloneNode(!1);c.container.removeAttribute("id");c.container.parentNode&&c.container.parentNode.insertBefore(d,c.container);this.hideComposer(a);h._createNewComposer(c,d);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:c.props.contextConfig.composerID})},isInstanceMounted:function(a){return!!h.instances.get(a)},unmountInstance:function(a){__p&&__p();if(h.isInstanceMounted(a)&&!h._isUnmounting){var c=h._getCurrentInstance(a);c=c.props;if(c.config!==void 0&&c.config.dialogComposer&&c.config.dialogElementID!=null){c=b("ge")(c.config.dialogElementID);c!=null&&c.remove()}h._isUnmounting=!0;h._unmountReact(a);h._isUnmounting=!1;h.instances["delete"](a)}},_unmountReact:function(a){var c=h._getCurrentInstance(a);b("ReactDOM").unmountComponentAtNode(c.container);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_UNMOUNT+a);return c},_getCurrentInstance:function(a){var b=h.instances.get(a);b||g(0,2272,a);return b}};e.exports=h}),null);
__d("ReactComposerFocusActions",["ReactComposerDispatcher","ReactComposerFocusActionTypes","ReactComposerStore"],(function(a,b,c,d,e,f){"use strict";b("ReactComposerStore");a={subscribe:function(a,c,d){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFocusActionTypes").SUBSCRIBE,onFocusAcquiredCallback:c,onFocusLostCallback:d})},unsubscribe:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFocusActionTypes").UNSUBSCRIBE})},notifyFocusAcquired:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFocusActionTypes").FOCUS_ACQUIRED})},notifyFocusLost:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerFocusActionTypes").FOCUS_LOST})}};e.exports=a}),null);
__d("ReactComposerFocusStore",["ReactComposerFocusActionTypes","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{focusConfig:{},isFocused:!1}},function(a){__p&&__p();if(!d)return;switch(a.type){case b("ReactComposerFocusActionTypes").SUBSCRIBE:d.$ReactComposerFocusStore1(a.composerID,a.onFocusAcquiredCallback,a.onFocusLostCallback);d.emitChange(a.composerID);break;case b("ReactComposerFocusActionTypes").UNSUBSCRIBE:d.$ReactComposerFocusStore2(a.composerID);d.emitChange(a.composerID);break;case b("ReactComposerFocusActionTypes").FOCUS_ACQUIRED:d.$ReactComposerFocusStore3(a.composerID);d.emitChange(a.composerID);break;case b("ReactComposerFocusActionTypes").FOCUS_LOST:d.$ReactComposerFocusStore4(a.composerID);d.emitChange(a.composerID);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerFocusStore1=function(a,b,c){a=this.getComposerData(a);a.focusConfig={onFocusAcquiredCallback:b,onFocusLostCallback:c}};d.$ReactComposerFocusStore2=function(a){a=this.getComposerData(a);a.focusConfig={}};d.$ReactComposerFocusStore3=function(a){a=this.getComposerData(a);a.focusConfig.onFocusAcquiredCallback&&setTimeout(a.focusConfig.onFocusAcquiredCallback,0);a.isFocused=!0};d.$ReactComposerFocusStore4=function(a){a=this.getComposerData(a);a.focusConfig.onFocusLostCallback&&setTimeout(a.focusConfig.onFocusLostCallback,0);a.isFocused=!1};d.isComposerFocused=function(a){return this.getComposerData(a).isFocused};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerFocusHandleScrollAway",["Event","getActiveElement","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=-400,h=300;a={handler:function(a,c){var d=b("Event").listen(window,"scroll",b("throttle")(function(){var e=a.getBoundingClientRect().bottom;if(e<g){c();e=b("getActiveElement")();e&&e.blur();d.remove()}},h))}};e.exports=a}),null);
__d("ReactComposerFocusInit",["csx","invariant","DOM","DOMContainer.react","Parent","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={handler:function(a,c,d,e,f,g,i){var j=b("DOM").create("div"),k=a.parentNode;if(g){g=b("Parent").bySelector(a,"._3u13");g&&(k=g.parentNode.parentNode)}b("ReactDOM").render(b("React").createElement(f,{composerID:c,actorID:d,gks:e,ReactComposerFocusExtraConfigData:i,enableFocusBehavior:!0},b("React").createElement(b("DOMContainer.react"),{display:"block"},a)),j);k||h(0,3645);k.firstChild?k.replaceChild(j,k.firstChild):k.appendChild(j)},preload:function(){}};e.exports=a}),null);
__d("ReactComposerFocusWrapperCore.react",["ix","cssVar","cx","fbt","Arbiter","Bootloader","ComposerTestID","CurrentUser","DOM","DOMTraverser","Event","Focus","Image.react","Keys","Link.react","React","ReactComponentWithPureRenderMixin","ReactComposerEvents","ReactComposerFocusActions","ReactComposerMediaUploadType","ReactDOM","Run","ShimButton.react","SubscriptionsHandler","TabbableElements","TabIsolation","TrackingNodes","URI","fbglyph","ifRequired","isKeyActivation","ReactComposerFocusStore"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=b("React").PropTypes;b("ReactComposerFocusStore");var k=parseInt("10px",10);c=b("React").createClass({displayName:"ReactComposerFocusWrapperCore",_composerID:"",_fixedHeight:0,_subscriptions:b("SubscriptionsHandler"),_firstFocus:!0,_onLeaveHandle:null,_root:null,_tabIsolation:null,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{composerID:a.string.isRequired,ariaLabel:a.string,onDismiss:a.func.isRequired,onFocus:a.func.isRequired,focused:a.bool.isRequired,gks:a.object,onFirstFocus:a.func,fixHeight:a.bool,ReactComposerFocusExtraConfigData:a.object},getDefaultProps:function(){return{focused:!1,fixHeight:!1}},UNSAFE_componentWillMount:function(){this._composerID=this.props.composerID},UNSAFE_componentWillReceiveProps:function(a){if(this.props.fixHeight&&!this.props.focused&&a.focused){a=b("ReactDOM").findDOMNode(this.refs.container);this._fixedHeight=a.offsetHeight+k}},componentDidMount:function(){this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscribeComposerEvents(),this._onLeaveHandle=b("Run").onLeave(this._onLeave),this._root&&(this._tabIsolation=new(b("TabIsolation"))(this._root),this.props.focused&&this._tabIsolation.enable())},componentDidUpdate:function(a){if(!a.focused&&this.props.focused){try{var c=document.createEvent("HTMLEvents");c.initEvent&&(c.initEvent("resize",!0,!1),window.dispatchEvent(new(b("Event"))("resize")))}catch(a){}this._tabIsolation&&this._tabIsolation.enable()}else a.focused&&!this.props.focused&&(this._tabIsolation&&this._tabIsolation.disable())},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),this._onLeave(),this._onLeaveHandle&&this._onLeaveHandle.remove(),this._tabIsolation&&this._tabIsolation.disable(),this._tabIsolation=null},render:function(){var a=this,c=this.props.fixHeight&&this.props.focused?{height:this._fixedHeight}:null,d=this.props.focused?this._renderDismissButton():null,e=this.props.focused?this._renderBugNub():null,f=this.props.label||j._("Create a post");return b("React").createElement("div",{role:this.props.focused?"dialog":"region","aria-label":f,className:(this.props.ReactComposerFocusExtraConfigData&&this.props.ReactComposerFocusExtraConfigData.removeDarkFocus?"_6apc":"")+" _3u13 _3e9r"+(this.props.focused?" _3u14":"")+(this.props.focused?" _1b3n":""),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.FEED_COMPOSER),ref:function(b){a._root=b},style:c,onKeyDown:this._onKeyDown},b("React").createElement("div",{className:"_3u15",onClick:this._onDismiss,role:"presentation"}),b("React").createElement("div",{className:"_3u16",ref:"container",onFocus:this._onFocus},this.props.children,d),e)},getComposerID:function(){return this._composerID},getComposer:function(){return this.refs.container},_renderDismissButton:function(){return b("React").createElement(b("ShimButton.react"),{className:"_3u17"+(this.props.gks&&this.props.gks.hasHeader?" _356d":"")+(this.props.gks&&this.props.gks.isSproutsComposer?" _3_fz":"")+(this.props.gks&&this.props.gks.wideHeader?" _37nh":"")+(this.props.gks&&this.props.gks.hideFocusDismissButton?" _1rbv":""),onClick:this._onClickDismissButton,onKeyDown:this._onDismissKeyDown,role:"button","data-testid":b("ComposerTestID").REACT_COMPOSER_CLOSE_BUTTON,"aria-label":j._("Dismiss"),tabIndex:"0"},b("React").createElement(b("Image.react"),{src:g("125922")}))},_renderBugNub:function(){if(!b("CurrentUser").isEmployee())return null;var a=new(b("URI"))("/ajax/bugs/report");return b("React").createElement("div",{className:"_t95"},b("React").createElement(b("Link.react"),{href:"#",ajaxify:a,className:"_t97",rel:"dialog"}))},_subscribeComposerEvents:function(){var a=this,c=b("Arbiter").subscribe(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+this._composerID,function(){a.props.onDismiss(!0)}),d=b("Arbiter").subscribe(b("ReactComposerEvents").POST_SUCCEEDED+this._composerID,function(){a.props.onDismiss(!0)}),e=b("Arbiter").subscribe("ReactFeedComposerXBootloader/focuscomposer/"+this._composerID,function(){return a._onFocus(null)}),f=b("Arbiter").subscribe(b("ReactComposerEvents").COMPOSER_RESET+this._composerID,function(c,d){d&&d.newComposerID&&(a.props.onDismiss(),a._composerID=d.newComposerID,a._subscriptions.release(),a._subscriptions=new(b("SubscriptionsHandler"))(),a._subscribeComposerEvents())});this._subscriptions.addSubscriptions(c,d,e,f)},_onFocus:function(a){if(this.props.focused||a&&a.nativeEvent.composerPropagationStopped)return;this._firstFocus&&(this.props.onFirstFocus&&this.props.onFirstFocus(),this._firstFocus=!1);this.props.onFocus();b("ReactComposerFocusActions").notifyFocusAcquired(this.getComposerID())},_onKeyDown:function(a){a.keyCode===b("Keys").ESC&&!a.nativeEvent.composerPropagationStopped&&this._onDismiss()},_onDismissKeyDown:function(a){b("isKeyActivation")(a)&&this._onDismiss()},_onClickDismissButton:function(){var a=this;b("ifRequired")("ReactComposerMediaUploadStore",function(c){var d=c.getUploadsCount(a._composerID,b("ReactComposerMediaUploadType").VIDEO);c=c.getUploadsCount(a._composerID,b("ReactComposerMediaUploadType").PHOTO);d>0&&c===0&&b("Bootloader").loadModules(["ReactComposerVideoSurvey"],function(b){return b.showDismissalSurvey(a._composerID,d)},"ReactComposerFocusWrapperCore.react")});this._onDismiss()},_onDismiss:function(){var a=this;this._onLeave();if(this._root&&document.body){var c=b("DOMTraverser").nextFilteredNode(document.body,this._root,function(c){return!b("DOM").contains(a._root,c)&&b("TabbableElements").isTabbable(c)});b("Focus").set(c)}},_onLeave:function(){this.props.onDismiss(),b("ReactComposerFocusActions").notifyFocusLost(this.props.composerID)}});e.exports=c}),null);
__d("ReactComposerFocusInline.react",["Arbiter","React","ReactComposerFocusHandleScrollAway","ReactComposerFocusWrapperCore.react","ReactComposerTaggerType","ReactDOM","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={focused:!1},d.$3=function(){var a=b("ReactDOM").findDOMNode(d.refs.focus.getComposer());b("ReactComposerFocusHandleScrollAway").handler(a,d.$1);b("ifRequired")("ReactComposerActions",function(a){d.props.gks&&d.props.gks.lazySproutsExpand||a.expandSprouts(d.$2())});b("ifRequired")("ReactComposerGroupPostTagsTaggerActions",function(a){a.setShowState(d.$2(),!0)});b("ifRequired")("ReactComposerTaggerActions",function(a){a.handleSetTaggerShowNUX(d.$2(),b("ReactComposerTaggerType").GROUP_MEET_UP,!1),a.handleSetTaggerShowNUX(d.$2(),b("ReactComposerTaggerType").VISUAL_POLL,!1)});d.setState({focused:!0})},d.$1=function(){b("Arbiter").inform("ReactComposerFocus/collapse/"+d.$2()),window.setTimeout(function(){d.refs.focus&&(b("ifRequired")("ReactComposerFocusActions",function(a){a.notifyFocusLost(d.$2())}),b("ifRequired")("ReactComposerActions",function(a){a.collapseSprouts(d.$2())}),b("ifRequired")("ReactComposerGroupPostTagsTaggerActions",function(a){a.setShowState(d.$2(),!1)}),b("ifRequired")("ReactComposerTaggerActions",function(a){b("ifRequired")("ReactComposerLoggingName",function(b){a.deselectCurrentTagger(d.$2(),b.INLINE_COMPOSER)})}))},0),d.setState({focused:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1()};d.componentDidMount=function(){b("Arbiter").inform("ReactComposerFocus/initialized"+this.$2())};d.render=function(){return b("React").createElement(b("ReactComposerFocusWrapperCore.react"),{composerID:this.props.composerID,focused:this.state.focused&&this.props.enableFocusBehavior,onFocus:this.$3,onDismiss:this.$1,gks:this.props.gks,ReactComposerFocusExtraConfigData:this.props.ReactComposerFocusExtraConfigData,ref:"focus"},this.props.children)};d.$2=function(){return this.refs.focus&&this.refs.focus.getComposerID()};return c}(b("React").PureComponent);c.propTypes={composerID:a.string.isRequired,gks:a.object};e.exports=c}),null);